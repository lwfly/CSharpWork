<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="referrer" content="origin" />
    <meta property="og:description" content="class文件是java 平台无关性的基础,也是语言无关性的战略实现之一.想要了解jvm的运行机制,class文件的基础结构是必须要了解熟悉的一个部分,本文从整体逻辑概念思路上对class文件的格式进" />
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>[一]class 文件浅析 .class文件格式详解 字段方法属性常量池字段 class文件属性表 数据类型 数据结构 - noteless - 博客园</title>
    
    <link rel="stylesheet" href="/css/blog-common.min.css?v=BKtyzabbeYJEVOaELkxmRjHbp7LT-v37GzrU5S24bJk" />
    <link id="MainCss" rel="stylesheet" href="/skins/buildtowin/bundle-buildtowin.min.css?v=lp23bZd4RUCf9TGsihJRLSq5M_182P4N8YRMn1A2CWo" />
    <link type="text/css" rel="stylesheet" href="https://www.cnblogs.com/noteless/custom.css?v=fnk17ixpiOajP7an/OE6hUwN1aI=" />
    <link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="/skins/buildtowin/bundle-buildtowin-mobile.min.css?v=ADiCwO2hOTdd5yYidcx7eob7ix2VJI4o_TXjEycTHjs" />
    
    <link type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/noteless/rss" />
    <link type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/noteless/rsd.xml" />
    <link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/noteless/wlwmanifest.xml" />
    <script src="https://common.cnblogs.com/scripts/jquery-2.2.0.min.js"></script>
    <script src="/js/blog-common.min.js?v=wKnarAbt-YO5waLYR80IqCLKpzPpF-s-32JKmKCtJxg"></script>
    <script>
        var currentBlogId = 268100;
        var currentBlogApp = 'noteless';
        var cb_enable_mathjax = true;
        var isLogined = false;
        var skinName = 'BuildtoWin';
    </script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
        tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']], processClass: 'math', processEscapes: true },
        TeX: {
        equationNumbers: { autoNumber: ['AMS'], useLabelIds: true },
        extensions: ['extpfeil.js', 'mediawiki-texvc.js'],
        Macros: {bm: "\\boldsymbol"}
        },
        'HTML-CSS': { linebreaks: { automatic: true } },
        SVG: { linebreaks: { automatic: true } }
        });
    </script>
    <script src="https://mathjax.cnblogs.com/2_7_5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
</head>
<body>
    <a name="top"></a>
    <div id="page_begin_html">
        <link rel="stylesheet" href="https://blog-static.cnblogs.com/files/noteless/cnblogs.css" type="text/css" />

<!--
<link rel="stylesheet" href="https://blog-static.cnblogs.com/files/noteless/monokai-sublime.css">
-->

<script src="https://blog-static.cnblogs.com/files/noteless/highlight.pack.js" defer></script>






<div class="main-top">

  <a class="avatar" href="https://www.cnblogs.com/noteless">
    <img src="//files.cnblogs.com/files/noteless/cnblogspic2.gif" alt="noteless 头像">
</a>
<div class="title">
    <a class="name" href="https://www.cnblogs.com/noteless/">noteless</a>
  </div>
<div class="info">

  </div>
</div>



<a href="#"><div id="toTop" style="zoom:0;display:none"></div></a>
    </div>
    
<!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
        <a id="lnkBlogLogo" href="https://www.cnblogs.com/noteless/"><img id="blogLogo" src="/skins/custom/images/logo.gif" alt="返回主页" /></a>		
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle HeaderMainTitle" href="https://www.cnblogs.com/noteless/">noteless</a>
</h1>
<h2>

</h2>




		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li>
</li>
<li>
<a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/noteless/">
首页</a>
</li>
<li>

<a id="blog_nav_newpost" class="menu" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">
新随笔</a>
</li>
<li>
<a id="blog_nav_contact" class="menu" href="https://msg.cnblogs.com/send/noteless">
联系</a></li>
<li>
<a id="blog_nav_rss" class="menu" href="https://www.cnblogs.com/noteless/rss/">
订阅</a>
<!--<partial name="./Shared/_XmlLink.cshtml" model="Model" /></li>--></li>
<li>
<a id="blog_nav_admin" class="menu" href="https://i.cnblogs.com/">
管理</a>
</li>
</ul>


		<div class="blogStats">
			
			<span id="stats_post_count">随笔 - 
212&nbsp; </span>
<span id="stats_article_count">文章 - 
0&nbsp; </span>
<span id="stats-comment_count">评论 - 
89</span>

			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		<div id="post_detail">
    <!--done-->
    <div id="topics">
        <div class="post">
            <h1 class = "postTitle">
                
<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/noteless/p/9540876.html">[一]class 文件浅析 .class文件格式详解 字段方法属性常量池字段 class文件属性表 数据类型 数据结构</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                
    <div id="cnblogs_post_description" style="display: none">
        class文件是java 平台无关性的基础,也是语言无关性的战略实现之一.想要了解jvm的运行机制,class文件的基础结构是必须要了解熟悉的一个部分,本文从整体逻辑概念思路上对class文件的格式进行了详尽的解读
    </div>
<div id="cnblogs_post_body" class="blogpost-body ">
    <h3 style="line-height: 200%;"><span style="font-size: 15px;"><strong>前言概述</strong></span></h3>
<div style="line-height: 200%;"><span style="font-size: 18px;">&nbsp;本文旨在讲解class文件的整体结构信息,阅读本文后应该可以完整的了解class文件的格式以及各个部分的逻辑组成含义</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 60%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>class文件包含了java虚拟机指令集 和&nbsp; 符号表&nbsp;&nbsp; 以及若干其他辅助信息.</strong> </span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">class文件是一组以8位字节为基础单位的二进制字节流 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">各个数据项按照顺序紧凑的排列在Class文件中,中间没有任何分隔符号&nbsp; </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">class文件采用类似 c结构体的格式存储数据 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>数据类型只有两种</strong> </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>无符号数</strong>&nbsp; 和 类c结构体的 <strong>表</strong>&nbsp; 表是由无符号数或者其他的表构成的 </span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">整个class文件就是一张表 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">无论无符号数还是表,当需要描述同一类型但数量不定的多个数据时,经常会使用一个前置的容量计数器用于指示接下来的数据个数,然后是若干个连续的数据项&nbsp; </span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>class文件主要内容为:&nbsp; 类本身的信息&nbsp; 字段 方法&nbsp; 常量池 以及方法中的Code属性&nbsp; 再就是一些相关的辅助信息&nbsp; </strong> </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><span style="font-weight: bold; font-size: 18px;">类本身的信息</span>类本身有一些必备的描述信息,比如类名 访问修饰符 继承关系等 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><span style="font-size: 18px;"><strong>字段</strong></span>用于描述接口或者类中声明的变量 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">字段包括类变量以及实例变量,不包括局部变量 他有访问标志 名称 描述符信息 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><span style="font-size: 18px;"><strong>方法</strong></span>用于描述方法表信息&nbsp; 类似字段 也有访问标志 名称 描述符信息 </span></div>
<div style="line-height: 200%;">
<div><span style="font-size: 15px;"><span style="font-size: 18px;"><strong>常量池</strong></span>可以理解为Class文件的资源仓库,所以他是与其他项目关联最多的数据类型 </span></div>
<div><span style="font-size: 15px;">主要是两大类:&nbsp; 字面量 以及符号引用&nbsp; </span></div>
<div><span style="font-size: 15px;">字面量接近java语言层面的常量概念 比如文本字符串&nbsp; 声明为final常量的值 </span></div>
<div><span style="font-size: 15px;">符号引用包括: </span></div>
<div><span style="font-size: 15px;">类和接口的全限定名 </span></div>
<div><span style="font-size: 15px;">字段的名称和描述符 </span></div>
<div><span style="font-size: 15px;">方法的名称和描述符 </span></div>
<div><span style="font-size: 15px;">虚拟机加载class文件的时候动态链接,所以class文件中不会保存方法的最终内存布局, 还需要转换 </span></div>
<div><span style="font-size: 15px;">虚拟机运行时从常量池中获得对应的符号引用,然后在创建或者运行时解析翻译到具体的内存地址中 </span></div>
</div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><span style="font-size: 18px;"><strong>Code属性</strong></span>存放的Java方法的内容,位于方法method_info&nbsp; 内 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">存放的是java方法经过编译器编译成的字节码指令&nbsp; 说白了存放的就是代码的编译后形式 </span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>概述:</strong> </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>class文件作为JVM的"机器语言" 主要包括两部分的信息,基础信息以及附加信息</strong> </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>基础信息</strong>为源代码中呈现的信息 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">类自身信息/字段/方法用于描述源代码中的类/字段/方法 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">常量池中保存了资源信息,比如字段的名字 方法的描述符等 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">方法中的code属性保存了方法中的代码的执行逻辑 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>额外信息</strong>为虚拟机执行过程中或者字节码指令执行所需要的信息 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">为了保证虚拟机能够正确的加载class文件 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">另外虚拟机加载类还需要做一些额外的工作比如校验信息等 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">字节码指令的执行可能还需要一些额外的信息 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">这些额外的信息通常也是保存在常量池中或者以属性的形式出现 </span></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">所以想要理解class文件的内容,就需要从这两个方面出发 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">基础信息以及额外附加信息 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">基础信息是对于源代码的映射 </span></div>
</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">给出任意一段java代码,<span style="border-collapse: collapse; -webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px;">源代码中到底有哪些信息呢</span>? </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">比如 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">类的全限定名&nbsp; 类的属性信息 访问权限等 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">字段的名称 类型信息 访问权限等 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">方法的名称 方法签名 返回值类型 访问权限等 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">类或者方法或者字段 有没有注解? </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">类的父类是什么? </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">类继承了哪些接口? 等等等等 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"> 其实换句话说你所有使用依赖的功能,都需要有底层的数据来支撑 </span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">额外的附加信息主要涉及到字节码指令以及虚拟机加载相关原理,额外的附加信息是附属于基本信息的,他们渗透在基本信息里面 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">所以下面的说明中,我们以基础信息为纲要,涉及到的附加信息会说明或者从功能上看出来是作为附加信息 </span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><hr style="height: 0px; line-height: 200%;" noshade="noshade" /></div>
<h3 style="line-height: 200%;"><span style="font-size: 15px;"><strong>class文件的数据格式了解</strong> </span></h3>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>class文件包含了虚拟机所需要知道的,关于类或者接口的所有信息</strong> </span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 18px;"><strong>结构体</strong> </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">他的基本数据类型为无符号数,以及表&nbsp;&nbsp; 表&nbsp; 是 数据组织结构类似于C语言中的结构体的的一种形式 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">为了更好地理解这种形式的逻辑,不了解C语言的,可以稍微了解一点结构体的形式,更有利于理解class文件的数据形式 </span></div>
<div style="line-height: 200%;">
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 40%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">struct 结构体名 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">{ </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; 类型名1 成员名1; </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; 类型名2 成员名2; </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ..... </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; 类型名n 成员名n; </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}; </span></div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">比如 </span></div>
<div style="line-height: 200%;">
<div style="line-height: 200%;">
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">struct</span><span style="color: #000000;"> student
{
</span><span style="color: #0000ff;">char</span> name[<span style="color: #800080;">10</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">char</span><span style="color: #000000;"> sex;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> age;
</span><span style="color: #0000ff;">float</span><span style="color: #000000;"> score;
};</span></pre>
</div>
</div>
</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">他的每个元素的数据类型都可以不相同&nbsp;</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">而且每个字段本身也可以是指向另外一个数据项的地址&nbsp;</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">也类似与数据库中的关联字段ID,这个ID在另一个表中有代表一整条的记录</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">比如学生表有addressId字段,用于关联地址信息</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">地址是一条完整的记录,其中可能包括 国家地区 省市 乡镇等等字段值</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<h3 style="line-height: 200%;"><span style="font-size: 15px;"><strong>class文件中的数据类型</strong> </span></h3>
<div style="line-height: 200%;"><span style="font-size: 15px;">每一个class文件都是由字节流组成 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">一个字节8位 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">所有的16位 32位 和 64位数据长度都可以通过构造成2个 4个或者8个字节来表示 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">多字节的数据将会大端排序(高位字节在地址最低位 ) </span></div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 60%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ps: 所谓大小端</span><br /><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105133883-987580423.png"><img style="display: inline; background-image: none;" title="image_5b83663b_d7c" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105134113-1311118107.png" alt="image_5b83663b_d7c" width="445" height="233" border="0" /></a></span><br />
				</td>





			</tr>





		</tbody>





	</table>





</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">对于字节的描述,java虚拟机规范中使用u1&nbsp; u2&nbsp; u4&nbsp; u8来分别表示1,2,4和8 个字节的无符号数
</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">基本数据类型为u1,u2,u4,u8&nbsp;&nbsp; </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">复杂的数据类型由类似结构体的形式来组织无符号数或者是类结构体的形式&nbsp; 可以称之为 表&nbsp; 也就是说表 里面可以有表
</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">比如常量池表中的数据结构为
</span></div>
<div style="line-height: 200%;">
<div class="cnblogs_code">
<pre><span style="color: #000000;">cp_info{
u1 tag;
u1 info[ ]
}</span></pre>
</div>
</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">所以说</span></div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 70%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">class文件的形式是一张巨大的表,是一个二进制字节流</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">只有两种数据表示形式 无符号数&nbsp;&nbsp; 以及&nbsp;&nbsp; 表(结构体 复合的数据结构)</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">各个数据项严格的按照顺序存放,之间没有填充或者对齐,这也是为何编译后代码如此紧凑的原因之一</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">基本数据类型为: u1&nbsp; u2&nbsp;&nbsp; u4&nbsp; u8</span></div>
</td>
</tr>
</tbody>
</table>
</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>
<h3 style="line-height: 200%;"><span style="font-size: 15px;"><strong>class文件的数据组织格式解读</strong> </span></h3>
<div style="line-height: 200%;">
<div style="line-height: 200%;">
<div class="cnblogs_code">
<pre><span style="color: #000000;">ClassFile {
u4 magic;
u2 minor_version;
u2 major_version;
u2 constant_pool_count;
cp_info constant_pool[constant_pool_count</span>-<span style="color: #800080;">1</span><span style="color: #000000;">];
u2 access_flags;
u2 this_class;
u2 super_class;
u2 interfaces_count;
u2 interfaces[interfaces_count];
u2 fields_count;
field_info fields[fields_count];
u2 methods_count;
method_info methods[methods_count];
u2 attributes_count;
attribute_info attributes[attributes_count];
}</span></pre>
</div>
</div>
</div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>class文件是一张表</strong></span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">这张表里面 记录了<strong>class文件本身</strong>的相关信息 比如magic 以及版本号</span></div>
<div style="line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">class文件中类索引 this_class&nbsp; 父类索引 super_class 以及接口集合 interfaces 三个数据项确定了<strong>类的继承关系</strong></span></div>
<div style="line-height: 200%;">&nbsp;</div>
</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">同时又记录了<strong>字段</strong> <strong>方法</strong> 以及<strong>属性</strong>信息</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">还是以之前的例子为例 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>源代码</strong> </span></div>
<div style="line-height: 200%;">
<div style="line-height: 200%;">
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> HelloWorld {
</span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> x;
</span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String y;
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> fun() {
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {
System.out.println(</span>"hello world"<span style="color: #000000;">);
}
}</span></pre>
</div>
<p>&nbsp;</p>
</div>
<div style="line-height: 200%;">
<div style="line-height: 200%;">
<div style="line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">使用Javap解析后的数据</span></div>
</div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105134342-2135463987.png"><img style="display: inline; background-image: none;" title="image_5b83663b_4831" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105134602-1228743994.png" alt="image_5b83663b_4831" width="962" height="1615" border="0" /></a></span></div>
<div style="line-height: 200%;">&nbsp;</div>
</div>
</div>
<div style="line-height: 200%;">&nbsp;</div>
</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">使用WinHex打开.class 文件 的部分结果 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105134832-1003012879.png"><img style="display: inline; background-image: none;" title="image_5b83663b_1bd2" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105135033-389880872.png" alt="image_5b83663b_1bd2" width="646" height="567" border="0" /></a> </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">我们对照着class文件的结构进行解析 </span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">注意: </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">上图中一列是一个字节 8位 也就是相当于u1&nbsp;&nbsp; 4位表示一个十六进制数 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">所以一列表示两个十六进制数 </span></div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 60%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">第一项 u4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; magic </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105135216-2071177304.png"><img style="display: inline; background-image: none;" title="image_5b83663b_22a4" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105135378-858339416.png" alt="image_5b83663b_22a4" width="106" height="35" border="0" /></a>&nbsp; </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">复合class文件魔数设置0xCAFEBABE </span></div>
</td>
</tr>
</tbody>
</table>
</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="border-collapse: collapse; border-spacing: 2px; font-size: 15px;"><br />
</span></div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 60%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">第二项&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; minor_version</span><br /><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105135615-1977448577.png"><img style="display: inline; background-image: none;" title="image_5b83663b_2241" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105135780-1208119506.png" alt="image_5b83663b_2241" width="50" height="41" border="0" /></a></span><br /><span style="font-size: 15px;">第三项&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; major_version</span><br /><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105135942-1602955414.png"><img style="display: inline; background-image: none;" title="image_5b83663b_5ba3" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105136101-292371098.png" alt="image_5b83663b_5ba3" width="51" height="39" border="0" /></a></span><br /><span style="font-size: 15px;">所以说 主版本号为 52(34是十六进制) 次版本号为0</span><br /><span style="font-size: 15px;">与javap解析后的数据吻合</span><br /><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105136270-1288577419.png"><img style="display: inline; background-image: none;" title="image_5b83663b_6982" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105136452-1959903504.png" alt="image_5b83663b_6982" width="190" height="42" border="0" /></a></span><br /><br />
				</td>





			</tr>





		</tbody>





	</table>





</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<div style="line-height: 200%;">
<div style="line-height: 200%;">&nbsp;</div>





	</div>





</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 60%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">第四项 u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; constant_pool_count</span><br /><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105136616-1641334284.png"><img style="display: inline; background-image: none;" title="image_5b83663b_29c4" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105136773-2105901330.png" alt="image_5b83663b_29c4" width="55" height="41" border="0" /></a></span><br /><span style="font-size: 15px;">十六机制27&nbsp; 十进制39</span><br /><span style="font-size: 15px;">可以看到javap解析后的Constant pool:中总共有从#1 到 #38&nbsp; </span><br /><span style="font-size: 15px;">常量池计数器constant_pool_count的值等于常量表中的成员数加1</span><br /><span style="font-size: 15px;">常量池标的索引值只有大于0 且小于constant_pool_count时才有效</span><br /><span style="font-size: 15px;">所以此处解析也是对的
				</span></td>





			</tr>





		</tbody>





	</table>





</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 60%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">第五项 cp_info&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; constant_pool[constant_pool_count-1]</span><br /><span style="font-size: 15px;">他是常量池</span><br /><span style="font-size: 15px;">常量池表中的所有项目的格式为</span><br />
<p style="margin: 0px; line-height: 200%;"><span style="font-size: 15px;">cp_info{
</span></p>
<p style="margin: 0px; line-height: 200%;"><span style="font-size: 15px;">u1 tag;
</span></p>
<p style="margin: 0px; line-height: 200%;"><span style="font-size: 15px;">u1 info[];
</span></p>
<p style="margin: 0px; line-height: 200%;"><span style="font-size: 15px;"><code style="line-height: 200%;">}</code></span></p>




<span style="font-size: 15px;">此处只是一个格式,表示有一个tag u1&nbsp; 还有不定个数的u1</span><br /><span style="font-size: 15px;">具体形式由tag的值决定</span><br /><br /><span style="font-size: 15px;">因为常量池计数为39 </span><br /><span style="font-size: 15px;">常量池中个数为[constant_pool_count-1]所以是38</span><br /><span style="font-size: 15px;">也就是接下来会有38个</span><br /><span style="font-size: 15px;">{u1 和 多个u1 } 这种形式的数据组合</span><br /><br /><br /><span style="font-size: 15px;">第一个tag</span><br /><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105136995-1792141963.png"><img style="display: inline; background-image: none;" title="image_5b83663b_238e" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105137208-22790516.png" alt="image_5b83663b_238e" width="33" height="40" border="0" /></a></span><br /><span style="font-size: 15px;">tag = 7 表示 CONSTNT_Class</span><br /><span style="font-size: 15px;">结构为</span><br />
<p style="margin: 0px; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Class_info{
</span></p>
<p style="margin: 0px; line-height: 200%;"><span style="font-size: 15px;">u1 tag;
</span></p>
<p style="margin: 0px; line-height: 200%;"><span style="font-size: 15px;">u2 name_index;
</span></p>
<p style="margin: 0px; line-height: 200%;"><span style="font-size: 15px;"><code style="line-height: 200%;">}</code></span></p>




<span style="font-size: 15px;">所以tag 之后,接下来有一个u2 表示name_index</span><br /><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105137386-1770400795.png"><img style="display: inline; background-image: none;" title="image_5b83663b_5df3" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105137669-226613554.png" alt="image_5b83663b_5df3" width="49" height="40" border="0" /></a></span><br /><span style="font-size: 15px;">name_index 的值是常量池中的一个索引</span><br /><span style="font-size: 15px;">他指向的是2号索引</span><br /><span style="font-size: 15px;">也就是</span><br /><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105138277-484585778.png"><img style="display: inline; background-image: none;" title="image_5b83663b_33a" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105138717-493951183.png" alt="image_5b83663b_33a" width="523" height="45" border="0" /></a></span><br /><br /><span style="font-size: 15px;">在接下来的一个u1&nbsp; 是下一个常量池数据项的tag</span><br /><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105138943-902389206.png"><img style="display: inline; background-image: none;" title="image_5b83663b_7117" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105139147-1693694451.png" alt="image_5b83663b_7117" width="26" height="39" border="0" /></a></span><br /><span style="font-size: 15px;">tag 为1 表示CONSTANT_Utf8</span><br /><span style="font-size: 15px;">他的结构为</span><br />
<p style="margin: 0px; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Utf8_info{
</span></p>
<p style="margin: 0px; line-height: 200%;"><span style="font-size: 15px;">u1 tag;
</span></p>
<p style="margin: 0px; line-height: 200%;"><span style="font-size: 15px;">u2 length;
</span></p>
<p style="margin: 0px; line-height: 200%;"><span style="font-size: 15px;">u1 bytes[length];
</span></p>
<p style="margin: 0px; line-height: 200%;"><span style="font-size: 15px;"><code style="line-height: 200%;">}</code></span></p>




<span style="font-size: 15px;">所以接下来的两个为length </span><br /><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105139305-1043812754.png"><img style="display: inline; background-image: none;" title="image_5b83663b_65d8" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105139463-831860832.png" alt="image_5b83663b_65d8" width="51" height="37" border="0" /></a></span><br /><span style="font-size: 15px;">表示长度为10</span><br /><span style="font-size: 15px;">在接下来是数组的起始地址,长度为10</span><br /><span style="font-size: 15px;">那么就是10个u1</span><br /><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105139621-844693586.png"><img style="display: inline; background-image: none;" title="image_5b83663b_d3b" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105139780-1456766435.png" alt="image_5b83663b_d3b" width="599" height="77" border="0" /></a></span><br /><span style="font-size: 15px;">我们翻一下ASCII码表,对照下十六进制与字符</span><br /><span style="font-size: 15px;">48&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; H</span><br /><span style="font-size: 15px;">65&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e</span><br /><span style="font-size: 15px;">6C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l</span><br /><span style="font-size: 15px;">6C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l</span><br /><span style="font-size: 15px;">6F&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o</span><br /><span style="font-size: 15px;">57&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; W</span><br /><span style="font-size: 15px;">6F&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o</span><br /><span style="font-size: 15px;">72&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; r</span><br /><span style="font-size: 15px;">6C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l</span><br /><span style="font-size: 15px;">64&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d&nbsp; </span><br /><span style="font-size: 15px;">也就是HelloWorld&nbsp; 这其实就是我们的类名</span><br /><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105139961-1865171186.png"><img style="display: inline; background-image: none;" title="image_5b83663b_40f" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105140349-1588936417.png" alt="image_5b83663b_40f" width="361" height="27" border="0" /></a></span><br /><br />
				</td>





			</tr>





		</tbody>





	</table>





</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">不在继续一一比对,你可以使用javap 进行查看
</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">这是官方提供的class文件的解析工具
</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>总结:</strong>
</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">class文件的存储形式就是一个二进制字节流
</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">使用类似结构体的形式
</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">将源代码映射的基础信息以及运行时必要的辅助信息,而这些基础信息也都已经被分割为最小的数据单位
</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">进行合理紧凑的组织起来
</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105140749-1238812295.png"><img style="display: inline; background-image: none;" title="image_5b83663b_1ecf" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105140943-1630428875.png" alt="image_5b83663b_1ecf" width="953" height="234" border="0" /></a>
	</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>





</div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>class文件详解</strong>
</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong><br /></strong>
</span></div>
<h3 style="line-height: 200%;"><span style="font-size: 15px;"><strong>classFile文件格式</strong>
</span></h3>
<div style="line-height: 200%;">
<div style="line-height: 200%;">
<div class="cnblogs_code">
<pre><span style="color: #000000;">ClassFile {
u4 magic;</span><span style="color: #008000;">//</span><span style="color: #008000;">唯一作用是确定这个文件是否为一个能被虚拟机所接受的class文件。魔数值固定为0xCAFEBABE，不会改变</span><span style="color: #000000;">
u2 minor_version;</span><span style="color: #008000;">//</span><span style="color: #008000;">唯一作用是确定这个文件是否为一个能被虚拟机所接受的class文件。魔数值固定为0xCAFEBABE，不会改变</span><span style="color: #000000;">
u2 major_version;</span><span style="color: #008000;">//</span><span style="color: #008000;">主版本号</span><span style="color: #000000;">
u2 constant_pool_count;</span><span style="color: #008000;">//</span><span style="color: #008000;">常量池计数  值等于常量池表中的成员个数加1</span><span style="color: #000000;">
cp_info constant_pool[constant_pool_count</span>-<span style="color: #800080;">1</span>];<span style="color: #008000;">//</span><span style="color: #008000;">常量池 1~ constant_pool_count-1 为索引</span><span style="color: #000000;">
u2 access_flags;</span><span style="color: #008000;">//</span><span style="color: #008000;">访问标志以及类型信息</span><span style="color: #000000;">
u2 this_class;</span><span style="color: #008000;">//</span><span style="color: #008000;">当前类索引 指向常量池中一个CONSTANT_Class_info</span><span style="color: #000000;">
u2 super_class;</span><span style="color: #008000;">//</span><span style="color: #008000;">父类索引 0 或者指向常量池中一个CONSTANT_Class_info</span><span style="color: #000000;">
u2 interfaces_count;</span><span style="color: #008000;">//</span><span style="color: #008000;">直接超接口数量</span><span style="color: #000000;">
u2 interfaces[interfaces_count];</span><span style="color: #008000;">//</span><span style="color: #008000;">接口表</span><span style="color: #000000;">
u2 fields_count;</span><span style="color: #008000;">//</span><span style="color: #008000;">字段个数 static类变量或者非sttic的实例变量 不包括继承的</span><span style="color: #000000;">
field_info fields[fields_count];</span><span style="color: #008000;">//</span><span style="color: #008000;">字段表</span><span style="color: #000000;">
u2 methods_count;</span><span style="color: #008000;">//</span><span style="color: #008000;">方法个数 所有方法 但不包括继承而来的</span><span style="color: #000000;">
method_info methods[methods_count];</span><span style="color: #008000;">//</span><span style="color: #008000;">方法表</span><span style="color: #000000;">
u2 attributes_count;</span><span style="color: #008000;">//</span><span style="color: #008000;">属性个数</span><span style="color: #000000;">
attribute_info attributes[attributes_count];</span>/<span style="color: #000000;">属性表
}</span></pre>
</div>
<p>&nbsp;</p>
</div>
</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">从class文件的数据结构上来看,主要有下面几部分信息内容</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">class文件本身的信息&nbsp;&nbsp; magic&nbsp; minor_version&nbsp; minor_version</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">类本身的信息&nbsp; &nbsp;access_flags&nbsp;&nbsp; this_class&nbsp; super_class&nbsp;&nbsp;&nbsp;&nbsp; interfaces_count&nbsp;&nbsp;&nbsp; interfaces[interfaces_count]</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">常量信息&nbsp; &nbsp;constant_pool_count&nbsp;&nbsp;&nbsp;&nbsp; <span style="line-height: normal;">constant_pool[constant_pool_count-<span style="color: #4682b4; font-weight: 600;">1</span>]</span></span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">字段&nbsp; &nbsp;fields_count&nbsp;&nbsp;&nbsp;&nbsp; fields[fields_count]</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">方法&nbsp; &nbsp;methods_count&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; methods[methods_count]</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">属性&nbsp; &nbsp;attributes_count&nbsp;&nbsp;&nbsp;&nbsp; attributes[attributes_count]</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<h3 style="line-height: 200%;"><span style="font-size: 15px;"><strong>各种名称的内部表示形式</strong> </span></h3>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">在进入更加详细的说明之前,有一部分内容必须提前说一下 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">那就是一些内部名称数据的表示形式 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">就好像编码一样,亦或者理解成书写格式与规范,比如我们会把姓写在名的前面 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">对于class文件中描述的一些信息,我们有固定的格式的信息描述符号 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">比如下面会提到的我们用&nbsp; D表示是double类型 </span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>主要涉及两部分内容&nbsp; 名称 和描述符</strong> </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong><br /></strong>
	</span></div>
<h4 style="line-height: 200%;"><span style="font-size: 15px;"><strong>名称描述</strong></span></h4>
<div style="line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>类和接口的二进制名称</strong>
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">class文件中的类和接口的二进制名称 是通过全限定名称来进行表示的
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">称之为二进制名称
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">注意,全限定名的分割形式不再是 英文句号 .&nbsp; 而是&nbsp; /&nbsp;&nbsp; 比如 java/lang/System
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>非限定名</strong>
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">方法名 字段名&nbsp; 局部变量名以及形式参数的名都采用<strong>非限定名</strong>的形式
		</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<h4 style="line-height: 200%;"><span style="font-size: 15px;"><strong>描述符</strong>
		</span></h4>
<div style="line-height: 200%;"><span style="font-size: 15px;">分为字段描述符/方法描述符
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>字段描述符</strong>
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105141122-672472702.png"><img style="display: inline; background-image: none;" title="image_5b83663b_3e48" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105141347-1432247160.png" alt="image_5b83663b_3e48" width="206" height="478" border="0" /></a>
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">上面截图自The Java Virtual Machine Specification, Java SE 8 Edition&nbsp;&nbsp; </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">他表示字段描述符使用FieldType来进行表述
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">FieldType有包括基本类型/对象类型/数组类型
		</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; width: 670px; color: #424242; line-height: 200%; font-family: 微软雅黑; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">形式是
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">FieldType
							</span></div>





						</td>





					</tr>





				</tbody>





			</table>





		</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; width: 939px; color: #424242; line-height: 200%; font-family: 微软雅黑; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">B
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">byte
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">[基本类型]&nbsp; 有符号的字节数组
						</span></td>





					</tr>
<tr style="line-height: 200%; background-color: #f8f8f8;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">C
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">char
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">[基本类型]&nbsp; 基本多语种平面中的Unicode代码点 UTF-16
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">D
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">double
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">[基本类型]&nbsp; 双精度浮点数
						</span></td>





					</tr>
<tr style="line-height: 200%; background-color: #f8f8f8;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">F
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">float
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">[基本类型]&nbsp; 单精度浮点数
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">I
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">int
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">[基本类型]&nbsp; 整型数
						</span></td>





					</tr>
<tr style="line-height: 200%; background-color: #f8f8f8;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">J
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">long
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">[基本类型]&nbsp; 长整数
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">S
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">short
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">[基本类型]&nbsp; 有符号短整数
						</span></td>





					</tr>
<tr style="line-height: 200%; background-color: #f8f8f8;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">Z
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">boolean
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">[基本类型]&nbsp; 布尔值true/false
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">L ClassName;
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">L ClassName;
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">[对象类型]&nbsp; ClassName类的实例
						</span></td>





					</tr>
<tr style="line-height: 200%; background-color: #f8f8f8;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">[
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">reference
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">[数组类型]&nbsp; 一维数组
						</span></td>





					</tr>





				</tbody>





			</table>





		</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">比如int 为I&nbsp;&nbsp;&nbsp; Object 为 L java/lang/Object;&nbsp;&nbsp;&nbsp; double[][][] d 为 [[[D
		</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>方法描述符</strong>
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105141541-1973994694.png"><img style="display: inline; background-image: none;" title="image_5b83663b_85f" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105141736-16941806.png" alt="image_5b83663b_85f" width="430" height="290" border="0" /></a>
		</span></div>
<div style="line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">上面截图自The Java Virtual Machine Specification, Java SE 8 Edition&nbsp;&nbsp; </span></div>
<div style="line-height: 200%;">&nbsp;</div>





		</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">他表示一个方法描述符由一个参数描述符ParameterDescriptor&nbsp; 和一个返回类型描述符ReturnDescriptor组成
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">参数类型描述符是:&nbsp;&nbsp; FieldType 类型
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">返回类型描述符是:&nbsp;&nbsp; FieldType类型或者Void类型VoidDescriptor
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">Void类型描述符 使用的是V来进行表示
		</span></div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; width: 670px; color: #424242; line-height: 200%; font-family: 微软雅黑; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">形式是
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">( {ParameterDescriptor} ) ReturnDescriptor
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">注意:&nbsp;&nbsp;&nbsp; {}&nbsp; 不是一部分,是想表达和数组似的,也可能是多个
							</span></div>





						</td>





					</tr>





				</tbody>





			</table>





		</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">比如
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">Object m(int i, double d, Thread t) {...}
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">他的描述符为:
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">(IDLjava/lang/Thread;)Ljava/lang/Object;
		</span></div>
<div style="line-height: 200%;">&nbsp;</div>





	</div>





</div>
<div style="line-height: 200%;">&nbsp;</div>
<h3 style="line-height: 200%;"><span style="font-size: 15px;"><strong>class文件详解之类本身信息</strong>
</span></h3>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">类本身的信息&nbsp;&nbsp;&nbsp; </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">access_flags&nbsp;&nbsp;&nbsp; </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">this_class&nbsp; super_class&nbsp;&nbsp;&nbsp;&nbsp; interfaces_count&nbsp;&nbsp;&nbsp; interfaces[interfaces_count]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></div>





</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; width: 939px; color: #424242; line-height: 200%; font-family: 微软雅黑; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">名称
				</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">值
				</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><br />
				</td>





			</tr>
<tr style="line-height: 200%; background-color: #f8f8f8;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_PUBLIC&nbsp; </span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0001
				</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">声明为public 包外访问
				</span></td>





			</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_FINAL
				</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0010
				</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">final 不允许子类
				</span></td>





			</tr>
<tr style="line-height: 200%; background-color: #f8f8f8;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_SUPER
				</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0020
				</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">调用invokespecial 需要处理父类
				</span></td>





			</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_INTERFACE
				</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0200
				</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">这是一个接口
				</span></td>





			</tr>
<tr style="line-height: 200%; background-color: #f8f8f8;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_ABSTRACT
				</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0400
				</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">abstract 抽象的不能被实例化
				</span></td>





			</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_SYNTHETIC
				</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x1000
				</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">class文件并非由java源代码生成
				</span></td>





			</tr>
<tr style="line-height: 200%; background-color: #f8f8f8;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_ANNOTATION
				</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x2000
				</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">注解
				</span></td>





			</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_ENUM
				</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x4000&nbsp; </span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">枚举&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></td>





			</tr>





		</tbody>





	</table>





</div>
<div style="line-height: 200%;">
<div style="line-height: 32px;">&nbsp;</div>
<div style="line-height: 32px;"><span style="font-size: 15px;">access_flag 字段为类的访问权限标志以及类型值
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">this_class&nbsp; super_class&nbsp;&nbsp; interfaces[interfaces_count]&nbsp;&nbsp;&nbsp; 构成了类的继承关系 指向的都是常量池中的CONSTANT_Class_info
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">对于super_class来说,可能为0 因为Object没有父类,其他所有都需要有对应的值存在</span></div>





</div>
<div style="line-height: 200%;">
<h3 style="line-height: 200%;"><span style="font-size: 15px;"><strong>class文件详解之常量池</strong></span></h3>
<div style="line-height: 200%;">
<div style="line-height: 200%;">&nbsp;</div>




</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 60%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">主要分为两类&nbsp; 字面量&nbsp; 符号引用 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">字面量类似java语言层面的含义&nbsp; 文本字符串 声明为final 的常量值 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">符号引用包括: </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">类和接口的全限定名 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">字段的名称和描述符 </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">方法的名称和描述符 </span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">常量池包含了class文件结构及其子结构中引用的所有的,字符串常量,类或者接口名,字段名,以及其他常量&nbsp; </span></div>





						</div>





					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>class文件由无符号数和表结构两种类型组成</strong>
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>关于名称的书写规范格式上面已经进行了描述</strong>
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>但是怎么表述这些名称的"字符串" 形式呢? 比如className = "Helloworld" 怎么保存Helloworld?</strong>
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>另外一些基本的数据类型的数据在class文件中又将是如何存放呢?比如 int类型的x=5&nbsp; 这个5又怎么保存?</strong>
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>字符串以及不同数值类型也都不就是一个u1 所以也需要组织形式也就是数据结构 也就是表</strong>
	</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<h4 style="line-height: 200%;"><span style="font-size: 15px;"><strong>常量池中的表结构的类型可以分为三种类型</strong>
	</span></h4>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 60%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">基本数据类型,比如 int long的描述形式,
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">虽然class文件是二进制字节流,最小为u1&nbsp; 但是这些基本数据类型在逻辑意义上来说,才是最小的描述单位
						</span></div>





					</td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">用于表述, 用于描述各个部分包含的逻辑内容的表&nbsp;&nbsp;&nbsp;&nbsp; "结构体" 复合形式的数据类型结构&nbsp; </span></div>





					</td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">中间的映射结构表 相当于数据库中的中间关系表
						</span></div>





					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">另外所有的常量池中的数据都是cp_info形式,所有的常量池中的数据都完全遵循这个格式
	</span></div>
<div style="line-height: 200%;">
<p style="margin: 0px; line-height: 200%;">&nbsp;</p>
<div class="cnblogs_code">
<pre><span style="color: #000000;">cp_info{
u1 tag;
u1 info[];
}</span></pre>
</div>
</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">只不过info[]具体的格式,由tag来进行决定</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">也就是说不同的tag 那一块区域的大小以及表示的含义自然是不同的</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">其实tag 跟我们平时写代码时候的类型是一个道理&nbsp; 就是接下来这块区域的内容的类型标记</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">tag值如下: </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">也就是总共有下面这些类型的常量池信息 </span></div>
<div style="line-height: 200%;">
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; width: 536px; color: #424242; line-height: 200%; font-family: 微软雅黑; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Class </span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;"> 7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></td>
</tr>
<tr style="line-height: 200%; background-color: #f8f8f8;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Fieldref </span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">9 </span></td>
</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Methodref </span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">10 </span></td>
</tr>
<tr style="line-height: 200%; background-color: #f8f8f8;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_InterfaceMethodref </span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">11 </span></td>
</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_String </span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">8 </span></td>
</tr>
<tr style="line-height: 200%; background-color: #f8f8f8;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Integer </span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">3 </span></td>
</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Float </span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">4 </span></td>
</tr>
<tr style="line-height: 200%; background-color: #f8f8f8;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Long </span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">5 </span></td>
</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Double </span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">6 </span></td>
</tr>
<tr style="line-height: 200%; background-color: #f8f8f8;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_NameAndType </span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">12 </span></td>
</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Utf8 </span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">1 </span></td>
</tr>
<tr style="line-height: 200%; background-color: #f8f8f8;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_MethodHandle </span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">15 </span></td>
</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_MethodType </span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">16 </span></td>
</tr>
<tr style="line-height: 200%; background-color: #f8f8f8;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_InvokeDynamic </span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">18 </span></td>
</tr>
</tbody>
</table>
</div>
<div style="line-height: 200%;">
<div style="line-height: 200%;">&nbsp;</div>
<h4 style="line-height: 200%;"><span style="font-size: 15px;"><strong>常量池中的基础数据类型部分</strong> </span></h4>
</div>
</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">我们先说下常量池中的封装好的数据类型部分 </span></div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 30%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;"><strong>字符串常量</strong> </span></td>
</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Utf8_info { </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 tag; </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 length; </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 bytes[length]; </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">} </span></div>
</td>
</tr>
<tr style="line-height: 200%;">
<td style="line-height: 200%;"><span style="font-size: 15px;">tag是CONSTANT_Utf8 1 </span><br /><span style="font-size: 15px;">字符串采用改进过的UTF-8编码表示</span><br /><span style="font-size: 15px;">接下来是编码后的字符串占用字节数以及字符串</span><br /><span style="font-size: 15px;">class文件中的方法字段名称都是此类型</span><br />
					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 30%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;"><strong>int整型 4字节</strong>
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Integer_info {
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 tag;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 bytes;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">tag为CONSTANT_Integer&nbsp; 3</span><br /><span style="font-size: 15px;">大端排序的int值
					</span></td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;">
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 30%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;"><strong>单精度浮点型 float 4字节</strong>
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Float_info {
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 tag;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 bytes;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
							</span></div>





						</td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">tag为CONSTANT_Float&nbsp; 4</span><br /><span style="font-size: 15px;">大端排序&nbsp; IEEE754单精度格式&nbsp;&nbsp; 的floa值
						</span></td>





					</tr>





				</tbody>





			</table>





		</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">long与double 是64位 8个字节
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">分为4个高字节和4个低字节
		</span></div>
<div style="line-height: 200%;">&nbsp;</div>





	</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; width: 401px; color: #424242; line-height: 200%; font-family: 微软雅黑; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;"><strong>long 长整型 8字节</strong>
					</span></td>





				</tr>
<tr style="line-height: 200%; background-color: #f8f8f8;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Long_info {
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 tag;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 high_bytes;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 low_bytes;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">tag为CONSTANT_Long 5</span><br /><span style="font-size: 15px;">大端排序的long值
					</span></td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 30%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;"><strong>双精度浮点型 double 8字节</strong>
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Double_info {
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 tag;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 high_bytes;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 low_bytes;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
							</span></div>
<div style="line-height: 200%;">&nbsp;</div>





						</td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">tag为CONSTANT_Double 6</span><br /><span style="font-size: 15px;">大端排序的 double值
						</span></td>





					</tr>





				</tbody>





			</table>





		</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">除了基本数据类型其他的就是复合数据类型
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">所有的复合数据类型基本上都会包含其他的数据结构&nbsp; </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">这种包含方式使用的就是索引<strong> #xxx</strong>的形式, 指向常量池中的另外一项数据
		</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<h4 style="line-height: 200%;"><span style="font-size: 15px;"><strong>常量池中的中间关系映射类型部分</strong>
		</span></h4>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><br />
						</td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">CONSTANT_NameAndType_info {
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 tag;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 name_index;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 descriptor_index;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
							</span></div>





						</td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">tag为 CONSTANT_NameAndType (12)</span><br /><span style="font-size: 15px;">NameAndType&nbsp; 就是名称和类型的意思</span><br /><span style="font-size: 15px;">对于方法 / 字段&nbsp;&nbsp;&nbsp; 来说,</span><br /><span style="font-size: 15px;">他们都有变量名称或者方法名称</span><br /><span style="font-size: 15px;">他们也都有变量类型和方法签名(方法的类型)</span><br /><span style="font-size: 15px;">NameAndType 是作为一个中间表形式的数据结构</span><br /><span style="font-size: 15px;">字段/方法中都有一个索引指向他,他又指向了实际的名称和类型</span><br /><span style="font-size: 15px;">不管是方法名称还是字段名称&nbsp; 不管是方法签名还是字段类型都是字符常量的形式</span><br /><span style="font-size: 15px;">name_index 和 descriptor_index 指向的都是CONSTANT_Utf8_info
						</span></td>





					</tr>





				</tbody>





			</table>




</div>
<h4 style="line-height: 200%;"><span style="font-size: 15px;"><strong>常量池中的复合数据类型部分</strong></span></h4>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>String类型的常量对象</strong>
							</span></div>





						</td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">CONSTANT_String_info {
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 tag;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 string_index;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
							</span></div>





						</td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">tag为CONSTANT_String 8
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">他表示的是String类型的数据,我们知道String是常量
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">字符串常量是用CONSTANT_Utf8_info进行表示的
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">所以 String_index指向的就是对应的CONSTANT_Utf8_info的"行号"
							</span></div>





						</td>





					</tr>





				</tbody>





			</table>





		</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;"><strong>方法类型</strong>
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">CONSTANT_MethodType_info {
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 tag;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 descriptor_index;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
							</span></div>





						</td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_MethodType&nbsp; 16 </span><br /><span style="font-size: 15px;">CONSTANT_NameAndType_info 是一个用于字段或者方法结构中的中间结构,包含了名称和类型 </span><br /><span style="font-size: 15px;">CONSTANT_MethodType_info&nbsp; 仅仅表示的就是方法签名</span><br /><span style="font-size: 15px;">方法签名对应的是CONSTANT_Utf8_info</span><br /><span style="font-size: 15px;">所以descriptor_index&nbsp; 指向 方法类型描述符的CONSTANT_Utf8_info
						</span></td>





					</tr>





				</tbody>





			</table>





		</div>
<div style="line-height: 200%;">&nbsp;</div>





	</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;"><strong>类或接口</strong>
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Class_info {
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 tag;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 name_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">tag 为CONSTANT_Class 7</span><br /><span style="font-size: 15px;">名称自然是字符串常量也就是CONSTANT_Utf8_info</span><br /><span style="font-size: 15px;">所以 name_index指向常量池中的 CONSTANT_Utf8_info</span><br /><br />
					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;"><strong>字段</strong>
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Fieldref_info {
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 tag;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 class_index;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 name_and_type_index;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
							</span></div>





						</td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Fieldref&nbsp; 9</span><br /><span style="font-size: 15px;">class_index 表示当前字段 对应或者说所属的&nbsp;&nbsp;&nbsp;&nbsp; 类或者接口&nbsp; 类和接口都可能 </span><br /><span style="font-size: 15px;">class_index指向CONSTANT_Class_info</span><br /><span style="font-size: 15px;">name_and_type_index 表示当前字段的名称和类型</span><br /><span style="font-size: 15px;">name_and_type_index指向CONSTANT_NameAndType_info
						</span></td>





					</tr>





				</tbody>





			</table>





		</div>





	</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;"><strong>方法</strong>
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Methodref_info {
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 tag;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 class_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 name_and_type_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Methodref 10</span><br /><span style="font-size: 15px;">class_index 表示当前方法 对应或者说所属的类,必须是类,不能是接口</span><br /><span style="font-size: 15px;">class_index指向CONSTANT_Class_info</span><br />
<div style="line-height: 200%;"><span style="font-size: 15px;">name_and_type_index 表示当前方法的名称和方法签名
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">name_and_type_index指向CONSTANT_NameAndType_info
						</span></div>





					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;"><strong>接口方法</strong>
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">CONSTANT_InterfaceMethodref_info {
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 tag;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 class_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 name_and_type_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_InterfaceMethodref 11</span><br /><span style="font-size: 15px;">class_index 表示当前方法 对应或者说所属的接口,必须是接口 不能是类</span><br /><span style="font-size: 15px;">class_index指向CONSTANT_Class_info</span><br />
<div style="line-height: 200%;"><span style="font-size: 15px;">name_and_type_index 表示当前方法的名称和方法签名
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">name_and_type_index指向CONSTANT_NameAndType_info
						</span></div>





					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;"><strong>方法调用</strong>
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">CONSTANT_MethodHandle_info {
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 tag;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 reference_kind;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 reference_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_MethodHandle&nbsp; 15</span><br /><span style="font-size: 15px;">方法调用,顾名思义也就是描述 方法的调用</span><br /><span style="font-size: 15px;">对于一个方法调用来说,方法可能有不同的类型,不同的类型有不同的操作对象</span><br /><span style="font-size: 15px;">reference_kind 正是描述方法的调用类型</span><br /><span style="font-size: 15px;">reference_index 描述的是方法的操作目标</span><br /><span style="font-size: 15px;">reference_kind 的值为1~9 他的类型决定了方法句柄的类型</span><br /><span style="font-size: 15px;">句柄类型的值表示方法句柄中字节码行为</span><br />
					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">用于表示invokedynamic指令
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">CONSTANT_InvokeDynamic_info {
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 tag;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 bootstrap_method_attr_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 name_and_type_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">tag为CONSTANT_InvokeDynamic&nbsp;&nbsp; 18</span><br /><span style="font-size: 15px;">CONSTANT_InvokeDynamic_info是为了字节码指令 invokedynamic&nbsp; 使用的</span><br /><span style="font-size: 15px;">invokedynamic是为了更好的支持动态类型语言,Java7通过JSR292给JVM增加的一条新的字节码指令</span><br /><span style="font-size: 15px;">bootstrap_method_attr_index&nbsp; 的值必须是对当前Class文件中引导方法表的bootstrap_methods[]</span><br /><span style="font-size: 15px;">数组的有效索引</span><br /><span style="font-size: 15px;">name_and_type_index 指向CONSTANT_NameAndType 表示方法名和方法描述符
					</span></td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;">&nbsp;</div>
<h3 style="line-height: 200%;"><span style="font-size: 15px;"><strong>class文件详解之字段</strong></span></h3>
<div style="line-height: 200%;"><span style="font-size: 15px;">字段表field_info 用于描述接口或者类中声明的变量
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">包括类变量 以及 实例变量&nbsp; 不包括方法内部声明的局部变量
	</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">可以包括的信息包括
	</span></div>
<div style="line-height: 200%;">
<ul style="line-height: 200%;">
<li style="line-height: 200%;"><span style="font-size: 15px;">字段的作用域 public private protected
			</span></li>
<li style="line-height: 200%;"><span style="font-size: 15px;">字段类型 类变量还是实例变量&nbsp; 是否有static修饰
			</span></li>
<li style="line-height: 200%;"><span style="font-size: 15px;">是否为常量&nbsp; final
			</span></li>
<li style="line-height: 200%;"><span style="font-size: 15px;">并发可见性 volatile
			</span></li>
<li style="line-height: 200%;"><span style="font-size: 15px;">是否可以被序列化&nbsp; transient
			</span></li>
<li style="line-height: 200%;"><span style="font-size: 15px;">字段的数据类型&nbsp; 基本类型 对象 数组&nbsp;&nbsp; </span></li>
<li style="line-height: 200%;"><span style="font-size: 15px;">字段名称
			</span></li>





		</ul>





	</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 60%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">字段
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">field_info {
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; access_flags;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; descriptor_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attributes_count;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; attribute_info attributes[attributes_count];
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">每个字段都由field_info结构定义</span><br /><span style="font-size: 15px;">同一个class文件中不会有两个字段同时具有相同的字段名和描述符</span><br /><span style="font-size: 15px;">access_flags 表示字段访问权限和基本属性</span><br /><span style="font-size: 15px;">name_index指向字段的名字 CONSTANT_utf8_info</span><br /><span style="font-size: 15px;">descriptor_index 指向字段描述符CONSTANT_utf8_info</span><br /><span style="font-size: 15px;">字段field&nbsp; 包含属性表,属性表结构的情况稍后介绍
					</span></td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">access_flags字段类型
	</span></div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 60%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_PUBLIC
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0001
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">字段是否为public&nbsp; 可以包外访问&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_PRIVATE
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0002
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">字段是否为private 只能本类访问
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_PROTECTED
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0004
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">字段是否为protected 子类可以访问
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_STATIC
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0008
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">字段是否为static
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_FINAL
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0010
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">字段是否为final&nbsp; </span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_VOLATILE
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0040
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">字段是否为volatile
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_TRANSIENT
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0080
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">字段是否为transient
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_SYNTHETIC
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x1000
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">字段是否由编译器产生
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_ENUM
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x4000
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">字段是否为enum
					</span></td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;">
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">如同源代码中abstract不能和final同时使用,此处的标志位规则也是如此,有些标志是互斥的
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">一个字段最多只能设置ACC_PUBLIC&nbsp;&nbsp; ACC_PRIVATE&nbsp;&nbsp;&nbsp; ACC_PROTECTED 的一种
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">不能同时设置ACC_FINAL 和 ACC_VOLATILE&nbsp; </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">接口中所有字段都具有 ACC_PUBLIC&nbsp; ACC_STATIC&nbsp;&nbsp; ACC_FINAL&nbsp; 也可以设置ACC_SYNTHETIC&nbsp; 其他的都不行了</span></div>
<h3 style="line-height: 200%;"><span style="font-size: 15px;"><strong>class文件详解之方法</strong></span></h3>





	</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 60%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;"><strong>方法</strong>
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">method_info {
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; access_flags;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; descriptor_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attributes_count;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; attribute_info attributes[attributes_count];
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">所有方法,包括实例初始化方法以及类或者接口初始化方法</span><br /><span style="font-size: 15px;">一个class文件中不会有两个方法具有相同的方法名和描述符</span><br /><span style="font-size: 15px;">name_index 指向方法名字 CONSTANT_Utf8_info </span><br /><span style="font-size: 15px;">descriptor_index 表示方法描述符 指向 CONSTANT_Utf8_info </span><br /><span style="font-size: 15px;">方法也有属性表
					</span></td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;">
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">access_flag 标志
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">基本也同方法的修饰符
		</span></div>





	</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 60%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_PUBLIC
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0001
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">方法是否为public 包外访问&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_PRIVATE
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0002
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">方法是否为private 当前类访问
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_PROTECTED
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0004
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">方法是否为protected 子类访问
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_STATIC
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0008
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">方法是否为static
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_FINAL
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0010
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">方法是否为final
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_SYNCHRONIZED
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0020
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">方法是否为synchronized
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_BRIDGE
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0040
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">方法是否为 编译器为了字节码兼容自动生成的bridge方法
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_VARARGS
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0080
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">方法是否为变长参数
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_NATIVE
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0100
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">方法是否为native&nbsp; 本地方法
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_ABSTRACT
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0400
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">方法是否为abstract 无实现代码
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_STRICT
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0800
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">方法是否为strictfp 使用FP-strict浮点模式
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_SYNTHETIC
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x1000
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">方法是否为编译器自动产生而不是由源代码编译而来
					</span></td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">volatile关键字和transient关键字不能修饰方法,所以自然也没有这些个标志
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">而synchronized&nbsp; native&nbsp; strictfp 和 abstract 关键字可以修饰方法 所以相对于字段中的标志新增了对应的标志
	</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">类似字段,有些方法修饰符标志也是互斥的
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">一个方法只能设置ACC_PUBLIC&nbsp;&nbsp;&nbsp; ACC_PRIVATE&nbsp;&nbsp; ACC_PROTECTED 中的一种
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">接口方法可以设置 除了ACC_PROTECTED&nbsp; ACC_FINAL ACC_SYNCHRONIZED&nbsp;&nbsp; ACC_NATIVE&nbsp;&nbsp; 以外的,以外的
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">版本号小于52 每个方法必须设置 ACC_PUBLIC&nbsp; ACC_ABSTRACT
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">大于等于52 每个方法必须设置ACC_PUBLIC&nbsp; 或者 ACC_PRIVATE 中的一个
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">ps: 52 可以理解为jdk1.8
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">如果设置了ACC_ABSTRACT 不能再设置 ACC_FINAL ACC_NATIVE ACC_PRIVATE ACC_STATIC ACC_STRICT&nbsp; ACC_SYNCHRONIZED
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">实例初始化方法只能被ACC_PUBLIC ACC_PROTECTED ACC_PRIVATE 其中之一修饰
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">还可以设置&nbsp; ACC_STRICT ACC_VARARGS&nbsp; ACC_SYNTHETIC&nbsp; 其他的都不能再设置
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">类或者接口的初始化方法 由虚拟机自动调用 除了ACC_STRICT以外,其它标志全部都会被忽略</span></div>
<h3 style="line-height: 200%;"><span style="font-size: 15px;"><strong>class文件详解之属性</strong></span></h3>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">通过类 常量池 字段 方法的结构,已经塑造完成了 class文件的基本概念
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">他们是class文件的基础骨架
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">骨架之上还有其他很多的附属信息以及比如运行时需要的额外的信息
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">这些信息大多数不能归结于一大类,逻辑架构上可能比较散乱,也可以理解为杂项信息
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">这些杂项就都是属性表的范畴
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">不过Code属性比较特殊,他其实也算作是一个骨架部分,或者说一个重要"器官"&nbsp;&nbsp; 他是作为方法中的代码编译后的字节码形式存在的
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">只不过因为逻辑上 方法内的代码字节码指令显然是归属于某个方法的,所以Code作为属性表也可以理解
	</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">class文件的ClassFile结构
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">字段的field_info 结构
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">方法的method_info结构
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">另外还有Code属性
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">以上四类都包含属性结构信息
	</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">所有属性表的梗概结构为
	</span></div>
<div style="line-height: 200%;">
<div style="line-height: 200%;">
<p style="margin: 0px; line-height: 200%;"><span style="font-size: 15px;">attribute_info {
</span></p>
<p style="margin: 0px; line-height: 200%;"><span style="font-size: 15px;">    u2 attribute_name_index;
</span></p>
<p style="margin: 0px; line-height: 200%;"><span style="font-size: 15px;">    u4 attribute_length;
</span></p>
<p style="margin: 0px; line-height: 200%;"><span style="font-size: 15px;">    u1 info[attribute_length];
</span></p>
<p style="margin: 0px; line-height: 200%;"><span style="font-size: 15px;">}</span></p>




</div>




</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">attribute_name_index&nbsp; 表示属性的名字索引 指向 CONSTANT_Utf8_info</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">attribute_length就是属性的长度&nbsp;</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">info[attribute_length] 是属性的具体数据信息</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<h4 style="line-height: 200%;"><span style="font-size: 15px;"><strong>所有的属性按照用途,可以划分为三类</strong>
	</span></h4>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 60%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">1.对于JVM 正确解读class文件起关键作用的5个属性</span><br />
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; ConstantValue
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; Code
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; StackMapTable
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; Exceptions
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; BootstrapMethods
						</span></div>





					</td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">2.对JavaSE 平台类库正确解读class文件起关键作用的12个属性</span><br />
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; InnerClasses
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; EnclosingMethod
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; Synthetic
						</span></div>
<div style="line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; Signature
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; RuntimeVisibleAnnotations
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; RuntimeInvisibleAnnotations
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; RuntimeVisibleParameterAnnotations
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; RuntimeInvisibleParameterAnnotations
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; RuntimeVisibleTypeAnnotations
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; RuntimeInvisibleTypeAnnotations
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; AnnotationDefault
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; MethodParameters
							</span></div>





						</div>





					</td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">对JVM或者JavaSE平台类库能够正确解读class文件</span><br /><span style="font-size: 15px;">虽然不起关键作用,但是却可以作为实用工具来使用的6个属性</span><br />
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; SourceFile
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; SourceDebugExtension
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; LineNumberTable
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; LocalVariableTable
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; LocalVariableTypeTable
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&bull; Deprecated
						</span></div>





					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">我们已经知道 属性出现于 classFile&nbsp; field_info&nbsp; method_info&nbsp; code 中
	</span></div>
<div style="line-height: 200%;">
<h4><span style="font-size: 15px;"><strong>所有属性按照位置划分</strong></span></h4>
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 60%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">属性
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">位置
					</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">备注
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">首次出现版本号
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">SourceFile&nbsp; </span></div>





					</td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ClassFile
					</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">表示class文件的源文件名称</span><br /><span style="font-size: 15px;">类独有属性
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">45.3
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">InnerClasses
						</span></div>





					</td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ClassFile
					</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">内部类相关信息</span><br /><span style="font-size: 15px;">类独有属性
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">45.3
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">EnclosingMethod
						</span></div>





					</td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ClassFile
					</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">class为局部类或者匿名类才具有</span><br /><span style="font-size: 15px;">类独有属性
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">49.0
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">SourceDebugExtension
						</span></div>





					</td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ClassFile
					</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">可选/保存扩展调试信息/最多一个</span><br /><span style="font-size: 15px;">类独有属性
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">49.0
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">BootstrapMethods
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ClassFile
					</span></td>
<td style="line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">与&nbsp;&nbsp; invokedynamic指令
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">常量池中CONSTANT_InvokeDynamic_info
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">相关
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">类独有属性
						</span></div>





					</td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">51.0
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ConstantValue
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">field_info
					</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">fina修饰的字段的常量值 </span><br /><span style="font-size: 15px;">字段独有属性
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">45.3
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">Code
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">method_info
					</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">java程序方法体中的代码经过javac编译器处理后</span><br /><span style="font-size: 15px;">最终变为字节码指令存储在Code属性内</span><br /><span style="font-size: 15px;">Code属性出现在方法表的属性集合中</span><br /><span style="font-size: 15px;">抽象类和接口不存在code属性</span><br /><span style="font-size: 15px;">包含了方法的java虚拟机指令及相关辅助信息</span><br /><span style="font-size: 15px;">方法独有属性
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">45.3
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">Exceptions
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">method_info
					</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">方法可能抛出的已检查异常列表</span><br /><span style="font-size: 15px;">方法独有属性
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">45.3
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeVisibleParameterAnnotations,
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeInvisibleParameterAnnotations
						</span></div>





					</td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">method_info
					</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">形参上的运行时的注解信息类型</span><br /><span style="font-size: 15px;">分为可见和不可见两种类型</span><br /><span style="font-size: 15px;">方法独有属性
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">49.0
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">AnnotationDefault
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">method_info
					</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">method_info表示注解类型中的元素时</span><br /><span style="font-size: 15px;">记录这个元素的默认值</span><br /><span style="font-size: 15px;">方法独有属性
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">49.0
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">MethodParameters
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">method_info
					</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">形参相关信息,比如参数名称 </span><br /><span style="font-size: 15px;">方法独有属性
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">52.0
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">Synthetic
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">classFile</span><br /><span style="font-size: 15px;">field_info</span><br /><span style="font-size: 15px;">method_info
					</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">Synthetic 标志编译器生成</span><br /><span style="font-size: 15px;">类 字段 方法都可能由编译器生成</span><br /><span style="font-size: 15px;">所以三种都有此属性
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">45.3
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">Deprecated
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">classFile</span><br /><span style="font-size: 15px;">field_info</span><br /><span style="font-size: 15px;">method_info
					</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">语义同@Deprecated</span><br /><span style="font-size: 15px;">显然可以标注在类/接口/字段/方法上</span><br /><span style="font-size: 15px;">所以三种都有此属性
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">45.3
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">Signature
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">classFile
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">field_info
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">method_info
						</span></div>





					</td>
<td style="line-height: 200%;"><span style="font-size: 15px;">泛型信息</span><br /><span style="font-size: 15px;">类接口 字段 方法 都有可能有类型参数</span><br /><span style="font-size: 15px;">所以三种都有此属性</span><br />
					</td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">49.0
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeVisibleAnnotations,
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeInvisibleAnnotations
						</span></div>





					</td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">classFile
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">field_info
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">method_info
						</span></div>





					</td>
<td style="line-height: 200%;"><span style="font-size: 15px;">类 方法 字段上 运行时注解的可见性</span><br /><span style="font-size: 15px;">分为可见不可见两种类型</span><br /><span style="font-size: 15px;">三种都有此属性
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">49.0
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">LineNumberTable
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">Code
					</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">调试用信息</span><br /><span style="font-size: 15px;">用于调试器确定源文件中给定行号所表示的内容,对应于虚拟机中code[]数组中的哪一部分</span><br /><span style="font-size: 15px;">也就是行号与字节码指令的对应关系
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">45.3
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">LocalVariableTable
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">Code
					</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">调试用信息</span><br /><span style="font-size: 15px;">调试器执行方法过程中可以用它来确定某个局部变量的值
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">45.3
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">LocalVariableTypeTable
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">Code
					</span></td>
<td style="line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">调试用信息
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">调试器执行方法过程中可以用它来确定某个局部变量的值
						</span></div>





					</td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">49.0
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">StackMapTable
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">Code
					</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">虚拟机类型检查验证使用信息
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">50.0
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeVisibleTypeAnnotations,
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeInvisibleTypeAnnotations
						</span></div>





					</td>
<td style="line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">classFile
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">field_info
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">method_info
						</span></div>





					</td>
<td style="line-height: 200%;"><span style="font-size: 15px;">类/方法/字段声明所使用的类型上面的运行时注解可见性</span><br /><span style="font-size: 15px;">分为可见/不可见两种</span><br /><span style="font-size: 15px;">三种都有此属性
					</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">52.0
					</span></td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;">&nbsp;</div>
<h4 style="line-height: 200%;"><span style="font-size: 15px;">变换一种组织形式
	</span></h4>
<div style="line-height: 200%;"><span style="font-size: 15px;">我们以位置为纲 可以很清晰的看到四个位置处都有那些信息
	</span></div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 75%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">classFile
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">SourceFile
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">InnerClasses
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">EnclosingMethod
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">SourceDebugExtension
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">BootstrapMethods
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">Synthetic
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">Deprecated
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">Signature
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeVisibleAnnotations,
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeInvisibleAnnotations
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeVisibleTypeAnnotations,
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeInvisibleTypeAnnotations
						</span></div>





					</td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">field_info
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">ConstantValue
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">Synthetic
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">Deprecated
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">Signature
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeVisibleAnnotations,
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeInvisibleAnnotations
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeVisibleTypeAnnotations,
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeInvisibleTypeAnnotations
						</span></div>





					</td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">method_info
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">Code
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">Exceptions
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeVisibleParameterAnnotations,
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeInvisibleParameterAnnotations
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">AnnotationDefault
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">MethodParameters
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">Synthetic
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">Deprecated
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">Signature
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeVisibleAnnotations,
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeInvisibleAnnotations
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeVisibleTypeAnnotations,
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeInvisibleTypeAnnotations
						</span></div>





					</td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">Code
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">LineNumberTable
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">LocalVariableTable
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">LocalVariableTypeTable
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">StackMapTable
						</span></div>





					</td>





				</tr>





			</tbody>





		</table>




<br />
	</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">属性表中的attribute_name_index&nbsp;&nbsp; 都是对应的属性名称 指向CONSTANT_Utf8_info 比如Code属性值为Code&nbsp;&nbsp; ConstantValue属性为ConstantValue
	</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<h4 style="line-height: 32px;"><span style="font-size: 15px;"><strong>ConstantValue 属性</strong>
	</span></h4>
<div style="line-height: 32px;"><span style="font-size: 15px;">通知虚拟机为静态变量赋值
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">只有被static关键字修饰的变量才可以使用这个属性&nbsp; 也就是只有类变量才可以使用
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">非static类型的变量也就是实例变量的赋值在构造方法中&lt;init&gt;
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;"> 类变量可以再&lt;clinit&gt;方法中&nbsp; 也可以使用ConstantValue&nbsp; 属性
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">目前编译器的做法是 如果同时使用final和static来修饰,也就是常量了
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">如果变量的数据类型是基本类型或者java.lang.String的话,就生成ConstantValue
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">如果没有final 或者并非基本类型或者字符串 选择在&lt;clinit&gt;中
	</span></div>
<div style="line-height: 32px;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; width: 607px; color: #424242; line-height: 32px; font-family: 微软雅黑; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 32px;">
<tr style="line-height: 32px;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 32px;">
<div style="line-height: 32px;"><span style="font-size: 15px;">ConstantValue_attribute {
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 attribute_name_index;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 attribute_length;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 constantvalue_index;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 32px;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>
<h4 style="line-height: 200%;"><span style="font-size: 15px;"><strong>Code属性</strong>
	</span></h4>
<div style="line-height: 200%;"><span style="font-size: 15px;">Code属性是方法体中的代码经过编译处理后,最终的字节码指令
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">既然是方法体的内容,如果没有方法体自然没有code属性 比如 接口或者抽象类中就不存在Code属性&nbsp; native也不存在
	</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">Code_attribute {
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 attribute_name_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 attribute_length;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 max_stack;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 max_locals;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 code_length;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 code[code_length];
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 exception_table_length;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; u2 start_pc;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 end_pc;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 handler_pc;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 catch_type;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; } exception_table[exception_table_length];
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 attributes_count;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; attribute_info attributes[attributes_count];
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>attribute_name_index</strong> 指向CONSTANT_Utf8_info 常量值 固定为"Code" 表示属性的名称
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>attribute_length</strong>&nbsp; 属性值长度&nbsp;&nbsp; 属性表前面6个字节 u2 + u4&nbsp;&nbsp;&nbsp; 再加上attribute_length&nbsp; 就是整个表的长度了
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>max_stack</strong> 操作数栈的最大深度 方法执行任意时刻不会超过这个值,根据值来分配栈帧&nbsp;&nbsp; </span></div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">ps:
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">虚拟机栈是线程私有的，每创建一个线程，虚拟机就会为这个线程创建一个虚拟机栈
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">虚拟机栈表示Java方法执行的内存模型，每调用一个方法就会为每个方法生成一个栈帧（Stack Frame），用来存储局部变量表、操作数栈、动态链接、方法出口等信息。
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">每个方法被调用和完成的过程，都对应一个栈帧从虚拟机栈上入栈和出栈的过程。
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">虚拟机栈的生命周期和线程是相同的
						</span></div>





					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>max_locals</strong> 局部变量表所需要的空间单位个数,可以理解为座位 这个位置叫做 Slot&nbsp; 可以查看javap后的信息
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">long&nbsp; double占用两个单位&nbsp; 其他类型一个单位
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">并不是有多少局部变量就是求和计算,因为变量有作用域的生命周期,所以空间可以复用
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">编译器会自动分配 ,并且计算出来这个值, 可以理解为 任意时刻最大的所需要空间个数
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>code_length</strong> 和<strong>code</strong> 才是真正的存储字节码的,虽然我们说code属性就是存储编译后的字节码
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">code_length指明了字节码指令的长度 字节码指令为u1&nbsp;&nbsp; </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">读取一个指令后虚拟机就可以知道这个字节码的含义以及这条指令后面是否还有参数
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">以及参数如何理解
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><strong>exception_table&nbsp; </strong>异常表表示的是可能出现的代码执行路径
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">表示如果字节码start_pc行 到 end_pc行,包含头不包含为 也就是不包含end_pc&nbsp; </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">出现了类型为catch_type 或者他的子类的异常 catch_type 指向一个CONSTANT_Class_info
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">转到handler_pc中处理
	</span></div>
<div style="line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 start_pc;
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 end_pc;
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 handler_pc;
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 catch_type;
		</span></div>





	</div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105141920-1463318614.png"><img style="display: inline; background-image: none;" title="image_5b83663b_986" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105142179-1609560925.png" alt="image_5b83663b_986" width="288" height="280" border="0" /></a>
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105142544-203399411.png"><img style="display: inline; background-image: none;" title="image_5b83663b_1cff" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105142726-907886826.png" alt="image_5b83663b_1cff" width="489" height="559" border="0" /></a>
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">上面的代码除了正常执行以外
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">如果try出现Exception或者子类的异常 转到catch
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">如果出现不属于Exception或者子类的异常 转到finally
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">如果catch中出现任何异常,转到finally
	</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<h4 style="line-height: 32px;"><span style="font-size: 15px;"><strong>StackMapTable属性</strong>
	</span></h4>
<div style="line-height: 32px;"><span style="font-size: 15px;">用于虚拟机类型检查的验证阶段
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">是为了一种新的类型检查验证器而设置的,新的验证器在编译阶段将一系列的验证类型直接记录在class文件中,
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">通过检查这些验证类型代替了类型推导过程
	</span></div>
<div style="line-height: 32px;">&nbsp;</div>
<div style="line-height: 32px;"><span style="font-size: 15px;">Code属性表里最多可以包含一个StackMapTable
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">StackMapTable包含0个或者多个<strong>栈帧映射</strong>
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">用于表示&nbsp; 执行到该字节码时局部变量表和操作数栈的验证类型
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">类型检查验证器会通过检查目标方法的局部变量和操作数栈所需要的类型来确定一段字节码指令是否符合逻辑约束
	</span></div>
<div style="line-height: 32px;">&nbsp;</div>
<div style="line-height: 32px;"><span style="font-size: 15px;">版本号大于等于50的class文件中如果方法的code属性中没有附带StackMapTable属性,意味着他有一个&nbsp; <strong> 隐式的栈帧映射属性</strong>
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">隐式的栈映射属性的作用等同于number_of_entries 值为0的StackMapTable
	</span></div>
<div style="line-height: 32px;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; width: 808px; color: #424242; line-height: 32px; font-family: 微软雅黑; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 32px;">
<tr style="line-height: 32px;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 32px;">
<div style="line-height: 32px;"><span style="font-size: 15px;">StackMapTable_attribute {
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attribute_name_index;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attribute_length;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; number_of_entries;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; stack_map_frame entries[number_of_entries];
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 32px;"><span style="font-size: 15px;">number_of_entries给出来的是stack_map_frame的个数
	</span></div>
<div style="line-height: 32px;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; width: 808px; color: #424242; line-height: 32px; font-family: 微软雅黑; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 32px;">
<tr style="line-height: 32px;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 32px;">
<div style="line-height: 32px;"><span style="font-size: 15px;">union stack_map_frame {
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; same_frame;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; same_locals_1_stack_item_frame;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; same_locals_1_stack_item_frame_extended;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; chop_frame;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; same_frame_extended;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; append_frame;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; full_frame;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 32px;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>
<h4 style="line-height: 32px;"><span style="font-size: 15px;"><strong>Exceptions属性</strong>
	</span></h4>




<span style="line-height: normal; font-size: 15px;"><span style="line-height: normal;"><br /></span></span>
<div style="line-height: 32px;">
<div style="line-height: 32px;"><span style="font-size: 15px;">不是Code中的exception_table&nbsp;&nbsp; 注意区分
		</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">列举出方法中可能抛出的已检查的异常
		</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">也就是方法声明throws后面的内容
		</span></div>
<div style="line-height: 32px;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; width: 607px; color: #424242; line-height: 32px; font-family: 微软雅黑; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 32px;">
<tr style="line-height: 32px;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 32px;">
<div style="line-height: 32px;"><span style="font-size: 15px;">Exceptions_attribute {
							</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 attribute_name_index;
							</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 attribute_length;
							</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 number_of_exceptions;
							</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 exception_index_table[number_of_exceptions];
							</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">}
							</span></div>





						</td>





					</tr>





				</tbody>





			</table>





		</div>





	</div>
<div style="line-height: 32px;"><span style="font-size: 15px;">attribute_name_index 指向名字
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">attribute_length表示长度
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">number_of_exceptions&nbsp; 表示个数
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">exception_index_table 指向常量池中的CONSTANT_Class_info 表示异常类型
	</span></div>
<div>&nbsp;</div>
<h4 style="line-height: 32px;"><span style="font-size: 15px;"><strong>BootstrapMethods 属性</strong>
	</span></h4>
<div style="line-height: 32px;"><span style="font-size: 15px;">保存invokedynamic 指令引用的引导方法限定符
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">如果某个classFile文件中常量池中至少有一个CONSTANT_InvokeDynamic_info
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">那么就必须包含且只能包含一个BootstrapMethods
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">与invokedynamic指令和java.lang.invoke包关系密切
	</span></div>
<div style="line-height: 32px;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; width: 607px; color: #424242; line-height: 32px; font-family: 微软雅黑; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 32px;">
<tr style="line-height: 32px;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 32px;">
<div style="line-height: 32px;"><span style="font-size: 15px;">BootstrapMethods_attribute {
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 attribute_name_index;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 attribute_length;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 num_bootstrap_methods;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; {&nbsp; u2 bootstrap_method_ref;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 num_bootstrap_arguments;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 bootstrap_arguments[num_bootstrap_arguments];
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; } bootstrap_methods[num_bootstrap_methods];
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 32px;">&nbsp;</div>
<div style="line-height: 200%;"><hr /></div>
<h4 style="line-height: 200%;"><span style="font-size: 15px;"><strong>InnerClasses&nbsp; 属性</strong>
	</span></h4>
<div style="line-height: 200%;"><span style="font-size: 15px;">记录内部类与宿主类之间的关联
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">如果一个类内部定义了内部类,编译器就会为以及他所包含的内部类生成InnerClasses属性
	</span></div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">InnerClasses_attribute {
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 attribute_name_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 attribute_length;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 number_of_classes;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; u2 inner_class_info_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 outer_class_info_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 inner_name_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 inner_class_access_flags;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; } classes[number_of_classes];
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">inner_class_info_index&nbsp;&nbsp; outer_class_info_index&nbsp; 都是指向常量池中CONSTANT_Utf8_info
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">分别代表内部类和宿主类的内部引用
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">inner_name_index指向常量池中CONSTANT_Utf8_info 表示内部类的名称&nbsp; 匿名内部类 为0
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">inner_class_access_flags&nbsp;&nbsp; 内部类的访问标志
	</span></div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 60%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_PUBLIC
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0001
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">内部类是否为public
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_PRIVATE
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0002
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">内部类是否为private
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_PROTECTED
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0004&nbsp; </span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">内部类是否为protected
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_STATIC
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0008
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">内部类是否为static
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_FINAL
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0010
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">内部类是否为final
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_INTERFACE
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0200
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">内部类是否为interface
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_ABSTRACT
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x0400
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">内部类是否为abstract
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_SYNTHETIC
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x1000
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">内部类是否为编译器自动生成
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_ANNOTATION
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x2000
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">内部类是否为注解
					</span></td>





				</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">ACC_ENUM
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">0x4000
					</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">内部类是否为枚举
					</span></td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;">
<div style="line-height: 200%;">&nbsp;</div>





	</div>
<h4 style="line-height: 200%;"><span style="font-size: 15px;"><strong>Synthetic&nbsp; 属性</strong>
	</span></h4>
<div style="line-height: 200%;"><span style="font-size: 15px;">标志是否有编译器自动生成&nbsp;&nbsp; 没有具体的值&nbsp; 只有存在和不存在的说法
	</span></div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">Synthetic_attribute {
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 attribute_name_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 attribute_length;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">attribute_name_index&nbsp; 指向CONSTANT_Utf8_info&nbsp; 表示 synthetic
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">attribute_length&nbsp; 固定为0&nbsp; 也就是么有值
	</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<h4 style="line-height: 200%;"><span style="font-size: 15px;"><strong>Signature 属性</strong>
	</span></h4>
<div style="line-height: 200%;"><span style="font-size: 15px;">可选的属性&nbsp;&nbsp; 1.5之后 任何&nbsp;&nbsp;&nbsp; 类 接口 初始化方法 或者成员&nbsp;&nbsp; 的泛型签名如果包含了类型变量 或者&nbsp;&nbsp; 参数化类型
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">那么signature 属性记录泛型签名信息
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">之所以需要是因为泛型擦除机制
	</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">反射机制获取泛型类型 依赖数据就是这个属性
	</span></div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">Signature_attribute {
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 attribute_name_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 attribute_length;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 signature_index;
						</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<h4 style="line-height: 200%;"><span style="font-size: 15px;"><strong>EnclosingMethod 属性</strong>
		</span></h4>
<div style="line-height: 200%;"><span style="font-size: 15px;">位于classFile结果的属性 当且仅当class为局部类和匿名内部类时 才具有这个属性
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">class_index&nbsp; 表示包含当前类的最内层类
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">method_index表示当前类是否在某个方法或者构造器中,如果不是 值为0
		</span></div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">EnclosingMethod_attribute {
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 attribute_name_index;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 attribute_length;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 class_index;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 method_index;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
							</span></div>





						</td>





					</tr>





				</tbody>





			</table>





		</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>
<h4 style="line-height: 200%;"><span style="font-size: 15px;"><strong>RuntimeVisibleAnnotations 属性&nbsp;</strong></span><span style="font-size: 15px;"><strong>RuntimeInvisibleAnnotations 属性</strong></span></h4>
<div style="line-height: 200%;"><span style="font-size: 15px;">添加在类声明 字段声明&nbsp; 方法声明上面的注解&nbsp; 在运行时的可见情况
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">Visible 可见&nbsp; Invisible不可见
		</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">ClassFile&nbsp; field_info method_info中最多只能有一个RuntimeVisibleAnnotations&nbsp;&nbsp; 或者&nbsp; RuntimeInvisibleAnnotations
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeVisibleAnnotations&nbsp;&nbsp; 和&nbsp; RuntimeInvisibleAnnotations&nbsp; 基本一致,&nbsp; 但是 RuntimeInvisibleAnnotations 标志的不能被反射API访问
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">除非虚拟机通过与实现相关的特殊方式保留这些注解,否则,虚拟机将忽略Invisible的注解
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">num_annotations表示注解的数量
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">annotations&nbsp; 每个元素都表示一个注解
		</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeVisibleAnnotations_attribute {
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attribute_name_index;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attribute_length;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; num_annotations;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; annotation annotations[num_annotations];
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
							</span></div>





						</td>





					</tr>





				</tbody>





			</table>





		</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeInvisibleAnnotations_attribute {
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attribute_name_index;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attribute_length;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; num_annotations;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; annotation annotations[num_annotations];
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
							</span></div>





						</td>





					</tr>





				</tbody>





			</table>





		</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">annotation {
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 type_index;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 num_element_value_pairs;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; {&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; element_name_index;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; element_value value;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; } element_value_pairs[num_element_value_pairs];
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
							</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">type_index 用来表示一个字段描述符,字段描述符表示一个注解类型
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"> 和当前annotation 结构所表示的注解一致
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">num_element_value_pairs&nbsp; 表示注解中的键值对 (注解中的参数都是键值对)&nbsp; 的个数
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">element_value_pairs&nbsp; 代表真正的键值对
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">它包括
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">element_name_index表示键&nbsp;&nbsp;&nbsp;&nbsp; </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">element_value&nbsp;&nbsp; 表示值
							</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">element_value {
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 tag;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; union {
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 const_value_index;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; u2 type_name_index;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 const_name_index;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } enum_const_value;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 class_info_index;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; annotation annotation_value;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; num_values;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; element_value values[num_values];
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } array_value;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; } value;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
								</span></div>





							</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">element_value 表示一个联合体
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">tag 使用u1 来表示键值对中的值是什么类型
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">也就是决定了键值对中&nbsp; 值的格式与value 中的哪一项相符合
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">联合体总共有五种
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">const_value_index
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">enum_const_value
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">class_info_index&nbsp; </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">annotation_value
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">array_value
							</span></div>





						</td>





					</tr>





				</tbody>





			</table>





		</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">tag&nbsp; 值表示的类型
		</span></div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">B
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">byte
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">const_value_index
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Integer
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">C
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">char
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">const_value_index
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Integer
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">D
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">double
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">const_value_index
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Double
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">F
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">float
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">const_value_index
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Float
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">I
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">int
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">const_value_index
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Integer
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">J
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">long
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">const_value_index
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Long
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">S
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">short
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">const_value_index
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Integer
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">Z
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">boolean
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">const_value_index
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Integer
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">s
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">String
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">const_value_index
						</span></td>
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">CONSTANT_Utf8
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="line-height: 200%;"><span style="font-size: 15px;">e
						</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">Enum类型
						</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">enum_const_value
						</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">不适用
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="line-height: 200%;"><span style="font-size: 15px;">c
						</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">Class
						</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">class_info_index
						</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">不适用
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="line-height: 200%;"><span style="font-size: 15px;">@
						</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">Annotation类型
						</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">annotation_value
						</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">不适用
						</span></td>





					</tr>
<tr style="line-height: 200%;">
<td style="line-height: 200%;"><span style="font-size: 15px;">[
						</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">Array 类型
						</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">array_value
						</span></td>
<td style="line-height: 200%;"><span style="font-size: 15px;">不适用
						</span></td>





					</tr>





				</tbody>





			</table>





		</div>
<div style="line-height: 200%;">
<div style="line-height: 200%;">&nbsp;</div>





		</div>
<div style="line-height: 200%;">
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">const_value_index&nbsp;&nbsp; 表示原始类型的常量值 或者String类型的字面量
							</span></td>





						</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">enum_const_value&nbsp; 表示一个枚举常量
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; type_name_index&nbsp; 指向CONSTANT_Utf8_info 枚举常量类型的二进制名称的内部形式
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; const_name_index 指向CONSTANT_Utf8_info 枚举常量的简单名称
								</span></div>





							</td>





						</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">class_info_index&nbsp; 表示类字面量&nbsp; CONSTANT_Utf8_info&nbsp;&nbsp; 用于表示返回描述符&nbsp; 返回描述符给出了与该element_value结构所表示的类字面量相对应的类型
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">如果类字面量是C. class，且C是类、接口或数组类型的名字，那么对应的类型就是C。常量池中的返回描述符会是ObjectType&nbsp; 或者ArrayType
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">如果类字面量是p. class，且p是原始类型的名称，那么对应的类型就是p&nbsp;&nbsp;&nbsp; 常量池中的返回描述符会是一个BaseType 
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">如果类字面量是void. class，那么对应的类型就是void。常量池中的返回描述符会是V.
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">比如Object.class 对应于类型Object 所以常量池中就是Ljava/lang/Object;&nbsp; 而 int.class对应于类型int 常量池中就是I(大写的i )
								</span></div>





							</td>





						</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;"><span style="font-size: 15px;">annotation_value&nbsp;&nbsp;&nbsp; 表示键值对中里面的值本身又是一个注解
							</span></td>





						</tr>
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">array_value&nbsp;&nbsp;&nbsp; 表示键值对的&nbsp; 值&nbsp;&nbsp; 是一个数组
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; num_values&nbsp; 给出了当前element_value结构所表示的数组的成员数量
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; values&nbsp;&nbsp; 每个成员对应了当前element_value 结构所表示的数组中的一个元素
								</span></div>





							</td>





						</tr>





					</tbody>





				</table>




</div>




</div>
<h4 style="line-height: 200%;"><span style="font-size: 15px;"><strong>RuntimeVisibleTypeAnnotations&nbsp;&nbsp; 属性&nbsp; &nbsp;&nbsp;</strong></span><span style="font-size: 15px;"><strong>RuntimeInvisibleTypeAnnotations&nbsp;&nbsp; 属性</strong></span></h4>
<div style="line-height: 200%;"><span style="font-size: 15px;">classFile field_info&nbsp; method_info&nbsp; 或者code属性中都有
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">比如对于某个类声明implements后面的<strong>类型</strong>所加的注解 记录在classFile结构体的这个属性里
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">比如某个字段声明中的类型 所加的全部注解记录在字段的对应属性里
		</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">记录了标注在对应类声明&nbsp; 字段声明 或者方法声明所使用的类型上面的注解&nbsp;&nbsp;&nbsp;&nbsp; 在运行时的可见情况
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">分为可见和不可见两种
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">也记录了标注在对应方法体重某个表达式所使用的类型上面的运行时可见注解
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">此外还记录了标注在泛型类&nbsp; 接口 方法 以及构造器的类型参数声明上面的注解
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">Java虚拟机必须使这些注解可供取用
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">最多只能有一个
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">num_annotations&nbsp; 表示注解个数
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">annotations&nbsp; 表示每一个注解 类型为type_annotation
		</span></div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody>
<tr>
<td style="padding: 4px; border: 1px solid gray; border-image: none;">
<div><span style="font-size: 15px;">RuntimeVisibleTypeAnnotations_attribute {
							</span></div>
<div><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attribute_name_index;
							</span></div>
<div><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attribute_length;
							</span></div>
<div><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; num_annotations;
							</span></div>
<div><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; type_annotation annotations[num_annotations];
							</span></div>
<div><span style="font-size: 15px;">}
							</span></div>





						</td>





					</tr>





				</tbody>





			</table>





		</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<div style="line-height: 32px;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; width: 808px; color: #424242; line-height: 32px; font-family: 微软雅黑; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 32px;">
<tr style="line-height: 32px;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 32px;">
<div style="line-height: 32px;"><span style="font-size: 15px;">RuntimeInvisibleTypeAnnotations_attribute {
								</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attribute_name_index;
								</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attribute_length;
								</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; num_annotations;
								</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; type_annotation annotations[num_annotations];
								</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">}
								</span></div>





							</td>





						</tr>





					</tbody>





				</table>





			</div>
<div style="line-height: 32px;">&nbsp;</div>





		</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">type_annotation {
							</span></div>
<div style="line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 target_type;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; union {
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type_parameter_target;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; supertype_target;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type_parameter_bound_target;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; empty_target;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; method_formal_parameter_target;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throws_target;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; localvar_target;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch_target;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; offset_target;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type_argument_target;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; } target_info;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; type_path target_path;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type_index;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; num_element_value_pairs;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; element_name_index;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; element_value value;
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; } element_value_pairs[num_element_value_pairs];
								</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
								</span></div>





							</div>





						</td>





					</tr>





				</tbody>





			</table>





		</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">前三项 target_type target_info 以及 target_path&nbsp; 指出了<strong>带注解的类型</strong>所在的精确位置&nbsp; target表示那个类型
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">后面type_index&nbsp;&nbsp; num_element_value_pairs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; element_value_pairs指出了注解本身的类型以及键值对
		</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<h4 style="line-height: 200%;"><span style="font-size: 15px;"><strong>RuntimeVisibleParameterAnnotations&nbsp;&nbsp;&nbsp; 属性&nbsp; &nbsp;</strong></span><span style="font-size: 15px;"><strong>RuntimeInvisibleParameterAnnotations&nbsp;&nbsp; 属性</strong></span></h4>
<div style="line-height: 200%;"><span style="font-size: 15px;">保存标注在对应方法的形式参数声明上面的注解的运行时可见状态
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">分为可见和不可见两种
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">num_parameters&nbsp; 形参个数
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"> parameter_annotations 每个元素表示一个形式参数的运行时注解&nbsp; 第 n项,表示方法描述符中的第&nbsp; n&nbsp; 个形式参数
		</span></div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeVisibleParameterAnnotations_attribute {
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 attribute_name_index;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 attribute_length;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 num_parameters;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; num_annotations;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; annotation annotations[num_annotations];
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; } parameter_annotations[num_parameters];
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
							</span></div>





						</td>





					</tr>





				</tbody>





			</table>





		</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; line-height: 200%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 200%;">
<tr style="line-height: 200%;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 200%;">
<div style="line-height: 200%;"><span style="font-size: 15px;">RuntimeInvisibleParameterAnnotations_attribute {
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 attribute_name_index;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 attribute_length;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 num_parameters;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; num_annotations;
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; annotation annotations[num_annotations];
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; } parameter_annotations[num_parameters];
							</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">}
							</span></div>





						</td>





					</tr>





				</tbody>





			</table>





		</div>
<div style="line-height: 200%;">&nbsp;</div>
<h4 style="line-height: 200%;"><span style="font-size: 15px;"><strong>AnnotationDefault&nbsp;&nbsp; 属性</strong>
		</span></h4>
<div style="line-height: 200%;"><span style="font-size: 15px;">如果一个method_info 是用来表述注解类型中的元素的
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">该结构体的属性表中最多只能有一个AnnotationDefault
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">AnnotationDefault属性记录了由method_info 结构所表示的那个元素的默认值
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">default_value 表示由AnnotationDefault属性外围的method_info结构所描述的那个注解类型元素的默认值
		</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">说白了这个结构有用的才是default_value
		</span></div>
<div style="line-height: 200%;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; border-image: none; width: 50%; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody>
<tr>
<td style="padding: 4px; border: 1px solid gray; border-image: none;">
<div><span style="font-size: 15px;">AnnotationDefault_attribute {
							</span></div>
<div><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attribute_name_index;
							</span></div>
<div><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attribute_length;
							</span></div>
<div><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; element_value default_value;
							</span></div>
<div><span style="font-size: 15px;">}
							</span></div>





						</td>





					</tr>





				</tbody>





			</table>





		</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>





	</div>
<div style="line-height: 32px;">
<div style="line-height: 32px;">
<h4 style="line-height: 32px;"><span style="font-size: 15px;"><strong>MethodParameters&nbsp;&nbsp;&nbsp; 属性</strong>
			</span></h4>
<div style="line-height: 32px;"><span style="font-size: 15px;">形参相关的一些信息 比如参数名称
			</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">parameters_count&nbsp; 表示本属性外围method_info 结构里面的descriptor_index所引用的那个方法描述符中,有多少个参数描述符
			</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">parameters&nbsp; 表示实际的参数</span></div>
<div style="line-height: 32px;">
<p>name_index 要么是0要么指向CONSTANT_Utf8_info 表示一个有效的非限定名 用来指代某个形式参数<br />access_flags ACC_FINAL 0x0010   形参为final <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ACC_SYNTHETIC 0x1000   形参没有显式或者隐式的在源代码中声明,由编译器生成<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ACC_MANDATED 0x8000  形参是隐式声明,也就是编程语言规范对所有的编译器的要求必须生成</p>




</div>




</div>




</div>
<div style="line-height: 32px;">
<div style="line-height: 32px;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; width: 808px; color: #424242; font-family: 微软雅黑; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody>
<tr>
<td style="padding: 4px; border: 1px solid gray; border-image: none;">
<div style="line-height: 24px;"><span style="font-size: 15px;">MethodParameters_attribute {
							</span></div>
<div style="line-height: 24px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 attribute_name_index;
							</span></div>
<div style="line-height: 24px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 attribute_length;
							</span></div>
<div style="line-height: 24px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 parameters_count;
							</span></div>
<div style="line-height: 24px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; {&nbsp; u2 name_index;
							</span></div>
<div style="line-height: 24px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 access_flags;
							</span></div>
<div style="line-height: 24px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; } parameters[parameters_count];
							</span></div>
<div style="line-height: 24px;"><span style="font-size: 15px;">}
							</span></div>





						</td>





					</tr>





				</tbody>





			</table>





		</div>
<div style="line-height: 32px;">&nbsp;</div>




</div>
<div style="line-height: 200%;">
<div style="line-height: 200%;"><hr style="height: 0px;" noshade="noshade" />
		</div>
<div style="line-height: 200%;">&nbsp;</div>





	</div>
<h4 style="line-height: 32px;"><span style="font-size: 15px;"><strong>sourceFile&nbsp; 属性</strong>
	</span></h4>
<div style="line-height: 32px;"><span style="font-size: 15px;">class文件的源文件名,属性是可选的可以关闭
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">但是一旦关闭,当抛出异常时 不会显示出错代码所归属的文件名称
	</span></div>
<div style="line-height: 32px;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; width: 607px; color: #424242; line-height: 32px; font-family: 微软雅黑; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 32px;">
<tr style="line-height: 32px;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 32px;">
<div style="line-height: 32px;"><span style="font-size: 15px;">SourceFile_attribute {
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 attribute_name_index;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 attribute_length;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 sourcefile_index;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 32px;">&nbsp;</div>
<div style="line-height: 32px;"><span style="font-size: 15px;">sourcefile_index 指向的是常量池中的CONSTANT_Utf8_info 表示源文件的文件名</span></div>
<div style="line-height: 200%;">
<div style="line-height: 200%;">
<h4 style="line-height: 32px;"><span style="font-size: 15px;"><strong>SourceDebugExtension&nbsp;&nbsp; 属性</strong>
			</span></h4>
<div style="line-height: 32px;"><span style="font-size: 15px;">一个classFile只能包含一个属性
			</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">debug_extension&nbsp; 用于保存扩展调试信息&nbsp; 扩展调试信息对于java虚拟机来说没有实际的语义&nbsp; </span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">扩展信息使用改进版的UTF8 编码的字符串&nbsp; 也可以说这个就算是另一种格式的用于表示字符串的结构&nbsp; </span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">不过他比String类的实例所能表示的字符串更长
			</span></div>
<div style="line-height: 32px;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; width: 808px; color: #424242; line-height: 32px; font-family: 微软雅黑; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 32px;">
<tr style="line-height: 32px;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 32px;">
<div style="line-height: 32px;"><span style="font-size: 15px;">SourceDebugExtension_attribute {
								</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 attribute_name_index;
								</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 attribute_length;
								</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u1 debug_extension[attribute_length];
								</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">}
								</span></div>





							</td>





						</tr>





					</tbody>





				</table>




</div>




</div>





	</div>





</div>
<div style="line-height: 200%;">
<h4 style="line-height: 32px;"><span style="font-size: 15px;"><strong>LineNumberTable&nbsp;&nbsp; 属性</strong>
	</span></h4>
<div style="line-height: 32px;"><span style="font-size: 15px;">Code属性的属性表中
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">源文件中给定的行号表示的内容对应字节码指令的行号(偏移量)之间的关系
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">并不是运行时必须信息,但是会默认生成到Class文件中
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">可以通过参数设置不生成,但是程序运行产生的最主要影响就是当抛出异常时,堆栈中不会显示出错的行号
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">调试时也无法设置断点
	</span></div>
<div style="line-height: 32px;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; width: 808px; color: #424242; line-height: 32px; font-family: 微软雅黑; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 32px;">
<tr style="line-height: 32px;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 32px;">
<div style="line-height: 32px;"><span style="font-size: 15px;">LineNumberTable_attribute {
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 attribute_name_index;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 attribute_length;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 line_number_table_length;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; {&nbsp; u2 start_pc;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 line_number;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; } line_number_table[line_number_table_length];
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">}
						</span></div>
<div style="line-height: 32px;">&nbsp;</div>





					</td>





				</tr>





			</tbody>





		</table>




</div>
<h4 style="line-height: 32px;"><span style="font-size: 15px;"><strong>LocalVariableTable&nbsp;&nbsp; 属性</strong>
	</span></h4>
<div style="line-height: 32px;"><span style="font-size: 15px;">用于描述栈帧中的局部变量表中的变量与java源代码中定义的变量之间的关系
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">也可以不生成,但是可能会导致别人引用方法时,参数名称丢失
	</span></div>
<div style="line-height: 32px;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; width: 808px; color: #424242; line-height: 32px; font-family: 微软雅黑; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 32px;">
<tr style="line-height: 32px;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 32px;">
<div style="line-height: 32px;"><span style="font-size: 15px;">LocalVariableTable_attribute {
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 attribute_name_index;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 attribute_length;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 local_variable_table_length;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; {&nbsp; u2 start_pc;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 length;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 name_index;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 descriptor_index;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 index;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; } local_variable_table[local_variable_table_length];
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>





			</tbody>





		</table>




</div>
<h4 style="line-height: 32px;"><span style="font-size: 15px;"><strong>LocalVariableTypeTable&nbsp; 属性</strong>
	</span></h4>
<div style="line-height: 32px;"><span style="font-size: 15px;">与LocalVariableTable类似,就是descriptor_index&nbsp; 被替换为了signature_index
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">主要针对泛型场景
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">非泛型签名与描述符基本一致,引入泛型后实际的泛型信息会被擦除 描述符就不足够准确了
	</span></div>
<div style="line-height: 32px;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; width: 808px; color: #424242; line-height: 32px; font-family: 微软雅黑; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 32px;">
<tr style="line-height: 32px;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 32px;">
<div style="line-height: 32px;"><span style="font-size: 15px;">LocalVariableTypeTable_attribute {
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 attribute_name_index;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 attribute_length;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 local_variable_type_table_length;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; {&nbsp; u2 start_pc;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 length;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 name_index;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 signature_index;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u2 index;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; } local_variable_type_table[local_variable_type_table_length];
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 32px;">&nbsp;</div>
<h4 style="line-height: 32px;"><span style="font-size: 15px;"><strong>Deprecated 属性</strong>
	</span></h4>
<div style="line-height: 32px;"><span style="font-size: 15px;">语义同语法中的@Deprecated&nbsp; 形式类似Synthetic&nbsp;&nbsp; 标志属性&nbsp; 有和没有的区别
	</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">attribute_length 固定为0
	</span></div>
<div style="line-height: 32px;">
<table style="border-width: 2px 1px; border-style: solid; border-color: gray; width: 607px; color: #424242; line-height: 32px; font-family: 微软雅黑; margin-left: 0px; border-collapse: collapse; -ms-word-break: break-all; empty-cells: show; background-color: transparent;">
<tbody style="line-height: 32px;">
<tr style="line-height: 32px;">
<td style="padding: 4px; border: 1px solid gray; border-image: none; line-height: 32px;">
<div style="line-height: 32px;"><span style="font-size: 15px;">Deprecated_attribute {
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u2 attribute_name_index;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">&nbsp;&nbsp;&nbsp; u4 attribute_length;
						</span></div>
<div style="line-height: 32px;"><span style="font-size: 15px;">}
						</span></div>





					</td>





				</tr>





			</tbody>





		</table>





	</div>
<div style="line-height: 32px;">&nbsp;</div>
<div style="line-height: 200%;"><hr style="height: 0px;" noshade="noshade" />
	</div>





</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">class文件的最详细的介绍
</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">自然是官方文档
</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">https://docs.oracle.com/javase/specs/index.html
</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">包含多个版本的JDK&nbsp;&nbsp; </span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;">以及两种格式
</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105142967-778966495.png"><img style="display: inline; background-image: none;" title="image_5b83663c_263e" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105143218-1264319621.png" alt="image_5b83663c_263e" width="715" height="722" border="0" /></a>
</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;"><span style="font-size: 15px;">另外也有中文版
</span></div>
<div style="line-height: 200%;"><span style="font-size: 15px;"><a href="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105143457-1531570845.png"><img style="display: inline; background-image: none;" title="image_5b83663c_2eff" src="https://images2018.cnblogs.com/blog/897393/201808/897393-20180827105143720-1416871927.png" alt="image_5b83663c_2eff" width="363" height="455" border="0" /></a>
</span></div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>
<div style="line-height: 200%;">&nbsp;</div>
</div>
<div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
    <div id="blog_post_info"></div>
    <div class="clear"></div>
    <div id="post_next_prev"></div>
</div>
            </div>
            <div class="postDesc">posted @ 
<span id="post-date">2018-08-27 10:52</span>&nbsp;
<a href="https://www.cnblogs.com/noteless/">noteless</a>&nbsp;
阅读(<span id="post_view_count">...</span>)&nbsp;
评论(<span id="post_comment_count">...</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=9540876" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(9540876);return false;">收藏</a></div>
        </div>
	    
	    
    </div><!--end: topics 文章、评论容器-->
</div>
<script src="https://common.cnblogs.com/highlight/9.12.0/highlight.min.js"></script>
<script>markdown_highlight();</script>
<script>
    var allowComments = true, cb_blogId = 268100, cb_blogApp = 'noteless', cb_blogUserGuid = '2f3ff2be-bdda-e511-9fc1-ac853d9f53cc';
    var cb_entryId = 9540876, cb_entryCreatedDate = '2018-08-27 10:52', cb_postType = 1; 
    loadViewCount(cb_entryId);
</script><a name="!comments"></a>
<div id="blog-comments-placeholder"></div>
<script>
    var commentManager = new blogCommentManager();
    commentManager.renderComments(0);
</script>

<div id="comment_form" class="commentform">
    <a name="commentform"></a>
    <div id="divCommentShow"></div>
    <div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
    <div id="comment_form_container"></div>
    <div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
    <div id="ad_t2"></div>
    <div id="opt_under_post"></div>
    <script async="async" src="https://www.googletagservices.com/tag/js/gpt.js"></script>
    <script>
        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
    </script>
    <script>
        googletag.cmd.push(function () {
            googletag.defineSlot("/1090369/C1", [300, 250], "div-gpt-ad-1546353474406-0").addService(googletag.pubads());
            googletag.defineSlot("/1090369/C2", [468, 60], "div-gpt-ad-1539008685004-0").addService(googletag.pubads());
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
    </script>
    <div id="cnblogs_c1" class="c_ad_block">
        <div id="div-gpt-ad-1546353474406-0" style="height:250px; width:300px;"></div>
    </div>
    <div id="under_post_news"></div>
    <div id="cnblogs_c2" class="c_ad_block">
        <div id="div-gpt-ad-1539008685004-0" style="height:60px; width:468px;">
            <script>
                if (new Date() >= new Date(2018, 9, 13)) {
                    googletag.cmd.push(function () { googletag.display("div-gpt-ad-1539008685004-0"); });
                }
            </script>
        </div>
    </div>
    <div id="under_post_kb"></div>
    <div id="HistoryToday" class="c_ad_block"></div>
    <script type="text/javascript">
        fixPostBody();
        deliverBigBanner();
setTimeout(function() { incrementViewCount(cb_entryId); }, 50);        deliverAdT2();
        deliverAdC1();
        deliverAdC2();
        loadNewsAndKb();
        loadBlogSignature();
LoadPostCategoriesTags(cb_blogId, cb_entryId);        LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
        GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
        loadOptUnderPost();
        GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
    </script>
</div>
	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<div id="sidebar_news" class="newsItem">
            <script>loadBlogNews();</script>
</div>

			<div id="blog-calendar" style="display:none"></div><script>loadBlogDefaultCalendar();</script>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"></div>
                    <script>loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		<!--done-->
Copyright &copy; 2020 noteless
<br /><span id="poweredby">Powered by .NET Core on Kubernetes</span>



	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->


    <div id="page_end_html">
        <script>
/*
$(document).ready(function() {
  $('pre').each(function(i, e) {hljs.highlightBlock(e)});
});
*/
</script>





<script>




//初始化加载函数
$(function(){
    // hideIndexArticle();
    appendNavigator();

    addOriginURL();

addSupport();
hideToTop();


})


//隐藏首页除置顶外的其他所有文章列表
function hideIndexArticle(){
    var windowURL = window.location.href;
    console.log(windowURL )
    if(windowURL && windowURL.indexOf('www.cnblogs.com/noteless')>0 && windowURL.indexOf('html')<0){
        //$('#mainContent .day:not(:first)').css('display','none');
    }
}

//增导航条上增加 目录索引按钮
function appendNavigator(){
    var _html='<li>'
        +'<a id="blog_nav_admin" class="menu" rel="nofollow" href="https://www.cnblogs.com/noteless/p/9400742.html">'
        +'目录索引'
        +'</a>'
        +'</li>';

    $('#navList').append(_html);
}

function appendMenuItem(tagName,id,content){
    console.log(tagName+" "+tagName.substring(1));
    var paddingLeft = tagName.substring(1) * 30; //添加标题缩进
    $('#menu_nav_ol').append('<li class="' + id +'" style="padding-left: '+ paddingLeft +'px;"><b>' + content + '</b></li>');
}


//添加支持一下，请求关注
function addSupport(){

var zhichiHml = '<p>'
+'<span>'
+'<img src="https://files-cdn.cnblogs.com/files/noteless/zhichiyixaa.bmp" alt="">'
+'</span>'
+'</p>';
$('#cnblogs_post_body').append(zhichiHml );

}

//每篇文章增加原文地址
function addOriginURL(){

    //文章增加原文地址
    var originURL='<div>'
        +'原文地址:'
        +'<a href="'
        +window.location.href
        +'" target="_blank">'
        +$('.postTitle a').html()
        +'</a>'
        +'</div>';
		
	originURL+='<img src="https://blog-static.cnblogs.com/files/noteless/%E4%BA%8C%E7%BB%B4%E7%A0%812.gif"></img>';
		
		
    if($("#cnblogs_post_body h3:first").length>0){
        $("#cnblogs_post_body h3:first").before(originURL);
    }else{
        $('#cnblogs_post_body').prepend(originURL);
    }


}

//如果是pc展示返回顶部
function hideToTop(){

	if(isPC()){
		$('#toTop').show();
	}
}


//判断手机还是pc
function isPC() {
   var userAgentInfo = navigator.userAgent;
   var Agents = ["Android", "iPhone",
      "SymbianOS", "Windows Phone",
      "iPad", "iPod"];
   var flag = true;
   for (var v = 0; v < Agents.length; v++) {
      if (userAgentInfo.indexOf(Agents[v]) > 0) {
         flag = false;
         break;
      }
   }
   return flag;
}



//根据标题生成左侧边栏的目录树
// 生成目录开始

$(function () {

	//如果是手机隐藏目录
	if(isPC()){

		//内容拼接
		$('body').append(
			'<div id="article-outline">'
			+'<div style="height:15px;">'
			+'<button type="button" class="close" data-dismiss="modal" aria-hidden="true">'
			+'X'
			+'</button>'
			+'</div>'
			+'</div>'
			+'<style>'
			+'#article-outline{'
			+'display:none;'
			+'min-width:140p;'
			+'max-width: 230px;'
			//+'max-height: 350px;'
			+'position:absolute;'
			+'float: left;'
			+'top:150px;'
			+'left:-999px;'
			+'border:1px solid #ccc;'
			+'box-shadow:5px 5px 2px #ccc;'
			+'padding: 5px 10px;'
			+'background-color: #fff;'
			+'overflow-y: auto;'
			+'scroll-x: auto;'
			+'}'

			+'#article-outline ul{'
			+'margin:5px 0 5px 0;'
			+'padding-left:30px;'
			+'font-size:12px;'
			+'border-left:1px dotted #ccc;'
			+'}'

			+'#article-outline ul:first-child{'
			+'padding-left:15px;'
			+'border:none;'
			+'}'

			+'#article-outline li{'
			+'list-style-type:decimal;'
			+'margin:3px 0;'
			+'}'

			+'#article-outline a{'
			+'color:#00C1E4;'
			+'}'
			+'</style>'
		)
		
		

		
		
		//取得新添加的目录元素
		var jOutline = $('#article-outline');

		//获取文章内容
		//var jContent = $('article .content');
		var jContent = $('div#topics');

		//计算高度
		var jContentHeight = jContent.height();

		//关闭按钮
		jOutline.find('.close').on('click', function () {
			jOutline.hide();
		})

		updateOutline();

		var top = jOutline.offset().top;
		scrollOutline();
		$(window).on('scroll', scrollOutline);

		function scrollOutline() {
			var scrollTop = $(document).scrollTop();
			var maxTop = jContent.offset().top + jContent.height() - jOutline.height();
			//设置行内样式
			if (scrollTop >= top && scrollTop <= maxTop) {
				jOutline.css({'position': 'fixed', 'top': 0});
			}
			else if (scrollTop < top) {
				/*
							jOutline.css({'position': 'absolute','float':'left', 'top': '150px'});
				*/
				jOutline.css({'position': 'absolute', 'top': '200px'});
			}
			else {
				/*
							jOutline.css({'position': 'absolute','float':'left', 'top': maxTop + 'px'});
				*/
				jOutline.css({'position': 'absolute', 'top': maxTop + 'px'});
			}

		}

		function updateOutline() {
			//设置哪些级别的目录
			// var arrAllHeader = jContent.find("h1,h2,h3,h4,h5,h6");
			var arrAllHeader = jContent.find("h2,h3,h4,h5,h6");
			var arrOutline = ['<ul>'];
			var header, headerText;
			var id = 0;
			var level = 0,
				lastLevel = 1;
			var levelCount = 0;
			for (var i = 0, c = arrAllHeader.length; i < c; i++) {
				header = arrAllHeader[i];
				headerText = $(header).text();

				header.setAttribute('id', id);

				level = header.tagName.match(/^h(\d)$/i)[1];
				levelCount = level - lastLevel;

				if (levelCount > 0) {
					for (var j = 0; j < levelCount; j++) {
						arrOutline.push('<ul>');
					}
				} else if (levelCount < 0) {
					levelCount *= -1;
					for (var j = 0; j < levelCount; j++) {
						arrOutline.push('</ul>');
					}
				}
				;
				arrOutline.push('<li>');
				arrOutline.push('<a href="#' + id + '">' + headerText + '</a>');
				arrOutline.push('</li>');
				lastLevel = level;
				id++;
			}
			arrOutline.push('</ul>')
			if (arrOutline.length > 2) {
				jOutline.append(arrOutline.join(''));
				jOutline.find('ul').each(function (i, n) {
					var jThis = $(this);
					if (jThis.children('li').length === 0) {
						jThis.replaceWith(jThis.children());
					}
				});
				showOutline();
			}
			else {
				hideOutline();
			}
		}

		function showOutline() {
			var offset = jContent.offset();

			//目录左侧偏移量
			/*        jOutline.css({
						left: offset.left + jContent.width() + 10 + 'px',
					}).show();*/
			jOutline.css({
				left:8 + 'px',
			}).show();
		}

		function hideOutline() {
			jOutline.hide();
		}
	
	
	}




    
});

//生成目录结束




</script>
    </div>
</body>
</html>